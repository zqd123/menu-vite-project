import{c as ye,x as R,y as le,f as we,d as te,z as Ie,A as Ce,j as ke,m as Se,p as Ee,l as qe,b as re,_ as je,B as se,w as $e,E as Te}from"./el-button-00713da7.js";import{E as Ue}from"./el-dialog-2d164ffe.js";import"./el-overlay-eca0c3db.js";import{E as Be,a as De}from"./el-form-item-39a6aa5d.js";import{E as N,a as Ne}from"./axios-a8b078e2.js";import{E as He}from"./el-message-c76a684b.js";import{E as de}from"./el-message-box-aea82438.js";import"./el-input-85e1f81d.js";import{Z as H,_ as Fe,d as U,y as ie,r as C,z as b,R as z,f as ne,$ as L,i as ue,I as Ae,o as h,k as w,U as M,V as pe,C as q,B as i,e as t,w as _,b as ce,L as F,a0 as A,v as me,O as P,F as K,E as Me,X as _e,u as Oe,a as Q,q as Re,l as j,s as ze}from"./index-f135e29b.js";import{m as fe}from"./typescript-defaf979.js";import{u as Le,C as Pe,U as O}from"./index-23572607.js";import"./_initCloneObject-d8284a35.js";const Ke=ye({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:R([Array,Object]),default:()=>fe(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:R([Array,Object]),default:()=>[H,H,H]},voidIcon:{type:le,default:()=>Fe},disabledVoidIcon:{type:le,default:()=>H},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:R(Array),default:()=>fe(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:we,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1},...Le(["ariaLabel"])}),Qe={[Pe]:p=>te(p),[O]:p=>te(p)},We=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],Xe=["onMousemove","onClick"],Ge=U({name:"ElRate"}),Ze=U({...Ge,props:Ke,emits:Qe,setup(p,{expose:V,emit:f}){const e=p;function v(o,n){const c=y=>ne(y),I=Object.keys(n).map(y=>+y).filter(y=>{const D=n[y];return(c(D)?D.excluded:!1)?o<y:o<=y}).sort((y,D)=>y-D),T=n[I[0]];return c(T)&&T.value||T}const x=ie(Ie,void 0),a=ie(Ce,void 0),k=ke(),g=Se("rate"),{inputId:S,isLabeledByFormItem:E}=Ee(e,{formItemContext:a}),m=C(e.modelValue),d=C(-1),l=C(!0),u=b(()=>[g.b(),g.m(k.value)]),r=b(()=>e.disabled||(x==null?void 0:x.disabled)),$=b(()=>g.cssVarBlock({"void-color":e.voidColor,"disabled-void-color":e.disabledVoidColor,"fill-color":G.value})),B=b(()=>{let o="";return e.showScore?o=e.scoreTemplate.replace(/\{\s*value\s*\}/,r.value?`${e.modelValue}`:`${m.value}`):e.showText&&(o=e.texts[Math.ceil(m.value)-1]),o}),s=b(()=>e.modelValue*100-Math.floor(e.modelValue)*100),ve=b(()=>z(e.colors)?{[e.lowThreshold]:e.colors[0],[e.highThreshold]:{value:e.colors[1],excluded:!0},[e.max]:e.colors[2]}:e.colors),G=b(()=>{const o=v(m.value,ve.value);return ne(o)?"":o}),ge=b(()=>{let o="";return r.value?o=`${s.value}%`:e.allowHalf&&(o="50%"),{color:G.value,width:o}}),Z=b(()=>{let o=z(e.icons)?[...e.icons]:{...e.icons};return o=L(o),z(o)?{[e.lowThreshold]:o[0],[e.highThreshold]:{value:o[1],excluded:!0},[e.max]:o[2]}:o}),xe=b(()=>v(e.modelValue,Z.value)),J=b(()=>r.value?ue(e.disabledVoidIcon)?e.disabledVoidIcon:L(e.disabledVoidIcon):ue(e.voidIcon)?e.voidIcon:L(e.voidIcon)),he=b(()=>v(m.value,Z.value));function Y(o){const n=r.value&&s.value>0&&o-1<e.modelValue&&o>e.modelValue,c=e.allowHalf&&l.value&&o-.5<=m.value&&o>m.value;return n||c}function ee(o){e.clearable&&o===e.modelValue&&(o=0),f(O,o),e.modelValue!==o&&f("change",o)}function be(o){r.value||(e.allowHalf&&l.value?ee(m.value):ee(o))}function Ve(o){if(r.value)return;let n=m.value;const c=o.code;return c===N.up||c===N.right?(e.allowHalf?n+=.5:n+=1,o.stopPropagation(),o.preventDefault()):(c===N.left||c===N.down)&&(e.allowHalf?n-=.5:n-=1,o.stopPropagation(),o.preventDefault()),n=n<0?0:n,n=n>e.max?e.max:n,f(O,n),f("change",n),n}function oe(o,n){if(!r.value){if(e.allowHalf&&n){let c=n.target;se(c,g.e("item"))&&(c=c.querySelector(`.${g.e("icon")}`)),(c.clientWidth===0||se(c,g.e("decimal")))&&(c=c.parentNode),l.value=n.offsetX*2<=c.clientWidth,m.value=l.value?o-.5:o}else m.value=o;d.value=o}}function ae(){r.value||(e.allowHalf&&(l.value=e.modelValue!==Math.floor(e.modelValue)),m.value=e.modelValue,d.value=-1)}return Ae(()=>e.modelValue,o=>{m.value=o,l.value=e.modelValue!==Math.floor(e.modelValue)}),e.modelValue||f(O,0),qe({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-rate",ref:"https://element-plus.org/en-US/component/rate.html"},b(()=>!!e.label)),V({setCurrentValue:oe,resetCurrentValue:ae}),(o,n)=>{var c;return h(),w("div",{id:i(S),class:q([i(u),i(g).is("disabled",i(r))]),role:"slider","aria-label":i(E)?void 0:o.label||o.ariaLabel||"rating","aria-labelledby":i(E)?(c=i(a))==null?void 0:c.labelId:void 0,"aria-valuenow":m.value,"aria-valuetext":i(B)||void 0,"aria-valuemin":"0","aria-valuemax":o.max,tabindex:"0",style:K(i($)),onKeydown:Ve},[(h(!0),w(M,null,pe(o.max,(I,T)=>(h(),w("span",{key:T,class:q(i(g).e("item")),onMousemove:y=>oe(I,y),onMouseleave:ae,onClick:y=>be(I)},[t(i(re),{class:q([i(g).e("icon"),{hover:d.value===I},i(g).is("active",I<=m.value)])},{default:_(()=>[Y(I)?P("v-if",!0):(h(),w(M,{key:0},[ce((h(),F(A(i(he)),null,null,512)),[[me,I<=m.value]]),ce((h(),F(A(i(J)),null,null,512)),[[me,!(I<=m.value)]])],64)),Y(I)?(h(),w(M,{key:1},[(h(),F(A(i(J)),{class:q([i(g).em("decimal","box")])},null,8,["class"])),t(i(re),{style:K(i(ge)),class:q([i(g).e("icon"),i(g).e("decimal")])},{default:_(()=>[(h(),F(A(i(xe))))]),_:1},8,["style","class"])],64)):P("v-if",!0)]),_:2},1032,["class"])],42,Xe))),128)),o.showText||o.showScore?(h(),w("span",{key:0,class:q(i(g).e("text")),style:K({color:o.textColor})},Me(i(B)),7)):P("v-if",!0)],46,We)}}});var Je=je(Ze,[["__file","rate.vue"]]);const Ye=$e(Je);const eo={class:"flex flex-col justify-start items-start"},oo=j("div",{class:"flex justify-start font-bold"}," 问题一：感知选择过载7分量表 最轻负荷1分—最重负荷7分 ",-1),ao=j("div",{class:"flex justify-start font-bold"}," 问题二：决策信心7分量表 最无信心1分—最有信心7分 ",-1),lo=U({__name:"Question",props:{secondCount:{}},emits:["ok"],setup(p,{emit:V}){const f=V;_e();const e=p,v=Oe(),x=C(),a=Q({radio1_1:void 0,radio1_2:void 0,radio1_3:void 0,radio1_4:void 0,radio1_5:void 0,radio1_6:void 0,radio1_7:void 0,radio2_1:void 0,radio2_2:void 0,radio2_3:void 0,radio2_4:void 0,radio2_5:void 0}),k=Q({radio1_1:[{required:!0,message:"请选择",trigger:"change"}],radio1_2:[{required:!0,message:"请选择",trigger:"change"}],radio1_3:[{required:!0,message:"请选择",trigger:"change"}],radio1_4:[{required:!0,message:"请选择",trigger:"change"}],radio1_5:[{required:!0,message:"请选择",trigger:"change"}],radio1_6:[{required:!0,message:"请选择",trigger:"change"}],radio1_7:[{required:!0,message:"请选择",trigger:"change"}],radio2_1:[{required:!0,message:"请选择",trigger:"change"}],radio2_2:[{required:!0,message:"请选择",trigger:"change"}],radio2_3:[{required:!0,message:"请选择",trigger:"change"}],radio2_4:[{required:!0,message:"请选择",trigger:"change"}],radio2_5:[{required:!0,message:"请选择",trigger:"change"}]}),g=async d=>{d&&await d.validate((l,u)=>{if(l){for(const[r,$]of Object.entries(a))if(!$){He.error("请为每一项做出选择！");return}v.radiosData={name:sessionStorage.getItem("userName")??"",radio1_1:a.radio1_1,radio1_2:a.radio1_2,radio1_3:a.radio1_3,radio1_4:a.radio1_4,radio1_5:a.radio1_5,radio1_6:a.radio1_6,radio1_7:a.radio1_7,radio2_1:a.radio2_1,radio2_2:a.radio2_2,radio2_3:a.radio2_3,radio2_4:a.radio2_4,radio2_5:a.radio2_5,secondCount:e.secondCount},m()}else console.log("error submit!",u)})},S=C(!1),E=C([]);console.log(E.value);const m=()=>{const d=v.radiosData;E.value.push({name:d.name,question1:[d.radio1_1,d.radio1_2,d.radio1_3,d.radio1_4,d.radio1_5,d.radio1_6,d.radio1_7].join(","),question2:[d.radio2_1,d.radio2_2,d.radio2_3,d.radio2_4,d.radio2_5].join(","),secondCount:d.secondCount});const l=E.value[0];S.value=!0,Ne.post("https://zhangqd.mynatapp.cc/add_user",{...l}).then(u=>{S.value=!1,de.alert(u.data.data.message??"保存成功","提示",{confirmButtonText:"确定",callback:()=>{v.checkQuestion=[],f("ok")}})}).catch(u=>{S.value=!1,de.alert("保存失败","提示",{confirmButtonText:"确定"})})};return(d,l)=>{const u=Ye,r=Be,$=Te,B=De;return h(),w("div",eo,[t(B,{ref_key:"ruleFormRef",ref:x,model:a,rules:k,"status-icon":"","label-position":"right"},{default:_(()=>[oo,t(r,{label:"1.“有太多不同的选择需要考虑”",prop:"radio1_1"},{default:_(()=>[t(u,{modelValue:a.radio1_1,"onUpdate:modelValue":l[0]||(l[0]=s=>a.radio1_1=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"2.“这个决定需要大量的思考”",prop:"radio1_2"},{default:_(()=>[t(u,{modelValue:a.radio1_2,"onUpdate:modelValue":l[1]||(l[1]=s=>a.radio1_2=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"3.“这是一个艰难的决定”",prop:"radio1_3"},{default:_(()=>[t(u,{modelValue:a.radio1_3,"onUpdate:modelValue":l[2]||(l[2]=s=>a.radio1_3=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"4.“我发现这个决定太难了”",prop:"radio1_4"},{default:_(()=>[t(u,{modelValue:a.radio1_4,"onUpdate:modelValue":l[3]||(l[3]=s=>a.radio1_4=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"5.“我很难理解所有可用的信息”",prop:"radio1_5"},{default:_(()=>[t(u,{modelValue:a.radio1_5,"onUpdate:modelValue":l[4]||(l[4]=s=>a.radio1_5=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"6.“任务很有压力”",prop:"radio1_6"},{default:_(()=>[t(u,{modelValue:a.radio1_6,"onUpdate:modelValue":l[5]||(l[5]=s=>a.radio1_6=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"7.“做出决定让我松了一口气”",prop:"radio1_7","show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},{default:_(()=>[t(u,{modelValue:a.radio1_7,"onUpdate:modelValue":l[6]||(l[6]=s=>a.radio1_7=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),ao,t(r,{label:"1.“我100%相信我的选择在客观上比课程网站上的其他选择好”",prop:"radio2_1"},{default:_(()=>[t(u,{modelValue:a.radio2_1,"onUpdate:modelValue":l[7]||(l[7]=s=>a.radio2_1=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"],clearable:""},null,8,["modelValue"])]),_:1}),t(r,{label:"2.“我不确定我的选择是否客观上比其他选择好”",prop:"radio2_2"},{default:_(()=>[t(u,{modelValue:a.radio2_2,"onUpdate:modelValue":l[8]||(l[8]=s=>a.radio2_2=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"3.“我确信我的选择是我能做出的最好的选择”",prop:"radio2_3"},{default:_(()=>[t(u,{modelValue:a.radio2_3,"onUpdate:modelValue":l[9]||(l[9]=s=>a.radio2_3=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"4.“不管我个人对我的选择有什么个人感受，很明显我的选择在客观上优于网站上的其他课程选择”",prop:"radio2_4"},{default:_(()=>[t(u,{modelValue:a.radio2_4,"onUpdate:modelValue":l[10]||(l[10]=s=>a.radio2_4=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"5.“即使我的朋友可能不同意，我的选择也是最好的选择”",prop:"radio2_5"},{default:_(()=>[t(u,{modelValue:a.radio2_5,"onUpdate:modelValue":l[11]||(l[11]=s=>a.radio2_5=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,null,{default:_(()=>[t($,{type:"primary",loading:S.value,onClick:l[12]||(l[12]=s=>g(x.value))},{default:_(()=>[Re(" 保 存 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])}}}),to={class:"relative"},ro=j("div",{class:"mb-4"},[j("div",null,"请点击您认为性价比最高的课程，并回答问题。")],-1),so={class:"flex flex-wrap justify-center gap-2"},io=["src"],no=U({__name:"InformationSelect",props:{testItem:{},second:{default:"8"}},emits:["checkClickHandle"],setup(p,{emit:V}){const f=V,e=p;let v=0;const x=C(0),a=C(!1),k=b(()=>Number(e.second)-x.value);(()=>{x.value=Number(i(e.second)),v=window.setInterval(()=>{x.value--,x.value===0&&(clearInterval(v),a.value=!0)},1e3)})();const S=d=>new URL(Object.assign({})[`../../assets/seconde-test/${d}`],self.location).href,E=()=>{clearInterval(v),a.value=!0},m=()=>{a.value=!1,f("checkClickHandle")};return(d,l)=>{const u=Ue;return h(),w("div",to,[ro,j("div",so,[(h(!0),w(M,null,pe(d.testItem.children,r=>(h(),w("div",{key:r.url,class:q(["w-60 h-60 bg-white flex justify-center items-center overflow-hidden",r.selectedColor]),onClick:E},[j("img",{class:"w-auto h-auto max-h-full max-w-full",src:S(r.url+".jpg")},null,8,io)],2))),128))]),t(u,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value=r),width:"60%","align-center":!0,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!0,"destroy-on-close":""},{default:_(()=>[t(lo,{"second-count":k.value,onOk:m},null,8,["second-count"])]),_:1},8,["modelValue"])])}}}),X=({type:p="small",sum:V=4}={})=>{const f=[];for(let e=1;e<=3;e++){const v={url:`${p}${e}`},x=[];for(let a=1;a<=V;a++){const k={url:`${p}${e}_${a}`};x.push(k)}v.children=x,f.push(v)}return console.log("🚀 ~ file: allImage.ts:25 ~ createImage ~ testArr:",f),f},uo=X({type:"small"}),co=X({type:"medium",sum:8}),mo=X({type:"large",sum:16});var W=(p=>(p.small="small",p.medium="medium",p.large="large",p))(W||{});const ko=U({__name:"index",setup(p){const V=_e(),f=Q({type:V.query.customType??"small",index:V.query.customIndex??"3",second:V.query.customSecond??"8"});console.log("🚀 ~ file: index.vue:11 ~ customQuery ~ customQuery:",f);const e=C(Number(f.index)-3);e.value<0&&(e.value=0);const v=C();v.value=f.type===W.small?uo[e.value]:f.type===W.medium?co[e.value]:mo[e.value];const x=()=>{ze.push({path:"/seconde/over",query:V.query})};return(a,k)=>(h(),w("div",null,[t(no,{"test-item":v.value,"test-index":e.value,second:f.second,onCheckClickHandle:x},null,8,["test-item","test-index","second"])]))}});export{ko as default};
