import{r as o,z as q,N as F,d as z,A as G,B as J,o as p,l as x,e as N,w as B,T as H,C,q as u,b as R,v as $,m as b,F as T,p as D,D as S}from"./index-82149418.js";import"./el-button-3a8d095d.js";import{E as O}from"./el-overlay-c12f0441.js";import"./el-input-624405e7.js";import{a as V}from"./axios-f831a5ad.js";import{_ as K}from"./plugin-vueexport-helper-c27b6911.js";import"./typescript-6aa8434c.js";function Q(){const d=o([]),f=o([]);async function I(){const{data:e}=await V.get("src/assets/stringData.txt");return e.split(/\n/).filter(s=>s.trim()!=="")}async function c(){return(await I()).map((t,s)=>({menuName:t,menuId:t+(s+1)}))}function l(e,t=5,{onlySingle:s}={}){e=JSON.parse(JSON.stringify(e));const a=[];for(;t>0;){if(e.length<=0)throw new Error("菜单剩余不足,取不到了");const r=Math.floor(Math.random()*e.length);a.find(v=>v.menuId===e[r].menuId)?t++:(a.push(e[r]),e=e.filter(v=>v.menuId!==e[r].menuId),t--)}return s&&h(e,a),a}function w(e,t){return e.reduce((s,a)=>(t.find(r=>r.menuId===a.menuId)||s.push(a),s),[])}function h(e,t){f.value=w(e,t)}const m=o([]);function g(e){const t=l(d.value,e);console.log("🚀 ~ file: useProcessDataHook.js:83 ~ initMenu ~ menuLevel1:",t),m.value=M(t,e)}function M(e,t){return e.map(s=>(s.children=l(d.value,t).map(a=>(a.parentId=s.menuId,a)),s.children.map(a=>{a.children=l(d.value,t).map(r=>(r.parentId=a.menuId,r))}),s)),e}function k(e,{parentList:t,onlySingle:s}={}){return t?t.reduce((a,r)=>{const v=l(f.value,e,{onlySingle:s}).map(_=>(_.parentId=r.menuId,_));return a.concat(v)},[]):l(f.value,e,{onlySingle:s})}return{allMenu:d,remainMenu:f,mapData:c,getRandomData:l,changeRemainMenu:h,menuTree:m,initMenu:g,createLevelDataList:k}}const{allMenu:E,remainMenu:P,mapData:U,getRandomData:W,changeRemainMenu:ce,menuTree:fe,initMenu:de,createLevelDataList:j}=Q();function X(){const d=o(!1),f=o(!1),I=o(!1),c=o(!0),l=o(!1),w=o(!1),h=o([]),m=o([]),g=o([]),M=o([]),k=o([]),e=o([]);async function t(n=5,i=!1){F.start(),E.value=await U(),P.value=E.value,h.value=j(n),M.value=h.value,m.value=j(n,{parentList:h.value,onlySingle:i}),console.log("🚀 ~ file: menuHook.ts:46 ~ initMenu ~ menuLevel2List.value:",m.value);const y=j(n,{parentList:m.value,onlySingle:i});g.value=y.map(A=>(A.children=W(P.value,n),A)),F.done(),console.log("🚀 ~ file: menuHook.ts:51 ~ initMenu ~ menuLevel3List.value:",g.value)}const s=q(()=>I.value?`flex-row ${f.value?"justify-center ":"justify-start"}`:`flex-col ${f.value?"items-center  pl-36":"items-start"}`),a=new Date,r=n=>{console.log("一级菜单点击"),d.value&&(c.value=!1),l.value=!0,w.value=!1,k.value=m.value.filter(i=>i.parentId===n.menuId)},v=n=>{d.value&&(c.value=!1,l.value=!1),w.value=!0,e.value=g.value.filter(i=>i.parentId===n.menuId),console.log("🚀 ~ file: menuHook.ts:90 ~ secondMenuClick ~ menuLevel3.value:",e.value)},_=n=>{console.log("选中:",n);const y=(new Date().getTime()-a.getTime())/1e3;O.alert(`用时: ${y}秒`,"提示",{confirmButtonText:"确定",callback:()=>{L()}})},L=()=>{c.value=!0,l.value=!1,w.value=!1};return{isHide:d,isGlobalColumn:f,isThirdColumn:I,isShowFirstMenu:c,isShowSecondMenu:l,isShowThirdMenu:w,thirdCenter:s,firstMenuClick:r,secondMenuClick:v,selectClick:_,refreshStatus:L,initMenu:t,menuLevel1:M,menuLevel2:k,menuLevel3:e}}const Y=["onClick"],Z=["onClick"],ee={class:"font-bold w-32 rounded-sm py-2 px-2"},ne=["onClick"],te=z({__name:"menu",setup(d){const f=G(),{isHide:I,isGlobalColumn:c,isThirdColumn:l,isShowFirstMenu:w,isShowSecondMenu:h,isShowThirdMenu:m,thirdCenter:g,firstMenuClick:M,secondMenuClick:k,selectClick:e,refreshStatus:t,initMenu:s,menuLevel1:a,menuLevel2:r,menuLevel3:v}=X();return J(()=>{const{num:_=5,direction:L="row",thirdDirection:n="row",single:i="false"}=f.query;c.value=L==="column",l.value=n==="column",s(typeof _=="string"?parseInt(_):5,!0)}),(_,L)=>(p(),x("div",{class:C(["flex h-full w-full",u(c)?"flex-col":"flex-row"])},[N(H,{name:"fade"},{default:B(()=>[R(b("div",{class:C(["bg-[#324868] flex gap-1 text-white border-r border-solid border-[#e4e4e4]",u(c)?"flex-row justify-center":"flex-col"])},[(p(!0),x(T,null,D(u(a),n=>(p(),x("div",{key:n.menuId,onClick:i=>u(M)(n),class:"w-32 font-bold min-w-max rounded-sm py-2 px-2"},S(n.menuName),9,Y))),128))],2),[[$,u(w)]])]),_:1}),N(H,{name:"fade"},{default:B(()=>[R(b("div",{class:C(["bg-[#e2e0df] flex gap-1 text-black border-r border-solid border-[#e4e4e4]",u(c)?"flex-row justify-center":"flex-col"])},[(p(!0),x(T,null,D(u(r),n=>(p(),x("div",{key:n.menuId,onClick:i=>u(k)(n),class:"w-32 font-bold min-w-max rounded-sm py-2 px-2"},S(n.menuName),9,Z))),128))],2),[[$,u(h)]])]),_:1}),N(H,{name:"fade"},{default:B(()=>[R(b("div",{class:C(["flex-1 bg-[#ffffff] flex gap-1 text-black overflow-auto",u(g)])},[(p(!0),x(T,null,D(u(v),n=>(p(),x("div",{key:n.menuId,class:C(["flex items-center gap-1",u(l)?"flex-col":"flex-row"])},[b("span",ee,S(n.menuName),1),b("div",{class:C(["flex gap-1",u(l)?"flex-col":"flex-row"])},[(p(!0),x(T,null,D(n.children,i=>(p(),x("div",{key:i.menuId,onClick:y=>u(e)(i),class:"w-32 min-w-max rounded-sm py-2 px-2"},S(i.menuName),9,ne))),128))],2)],2))),128))],2),[[$,u(m)]])]),_:1})],2))}});const me=K(te,[["__scopeId","data-v-c143662c"]]);export{me as default};
