import{c as ee,d as fe,e as pe,f as _e,h as qe,j as Re,k as se,_ as le,l as $e,m as Be,n as Ve,w as Fe,o as ye,E as we,b as Ge}from"./el-button-0520c745.js";/* empty css                */import{i as ve,r as p,x as He,y as j,d as G,o as L,l as E,m as D,b as Q,z as Me,A as n,g as ke,B as x,p as X,C as ae,n as re,q as P,D as z,E as je,F as Oe,G as Ae,a as Qe,t as ze,H as ue,N as ge,I as Y,w as R,e as V,J as Pe,K as Je,k as Ke,v as W,T as ne,L as oe,M as U,O as Z}from"./index-888b2499.js";import{a as Ue}from"./axios-5ec0693a.js";import{E as Ne}from"./el-dialog-674f2d69.js";import"./el-overlay-961af2ad.js";import{U as ie,C as We,d as Ze}from"./event-0e1210c4.js";import{_ as Xe}from"./plugin-vueexport-helper-c27b6911.js";const Le=ee({size:_e,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Ye=ee({...Le,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),Se={[ie]:d=>ve(d)||fe(d)||pe(d),[We]:d=>ve(d)||fe(d)||pe(d)},xe=Symbol("radioGroupKey"),Ie=(d,h)=>{const u=p(),a=He(xe,void 0),r=j(()=>!!a),_=j({get(){return r.value?a.modelValue:d.modelValue},set(y){r.value?a.changeEvent(y):h&&h(ie,y),u.value.checked=d.modelValue===d.label}}),m=qe(j(()=>a==null?void 0:a.size)),v=Re(j(()=>a==null?void 0:a.disabled)),f=p(!1),w=j(()=>v.value||r.value&&_.value!==d.label?-1:0);return{radioRef:u,isGroup:r,radioGroup:a,focus:f,size:m,disabled:v,tabIndex:w,modelValue:_}},en=["value","name","disabled"],nn=G({name:"ElRadio"}),on=G({...nn,props:Ye,emits:Se,setup(d,{emit:h}){const u=d,a=se("radio"),{radioRef:r,radioGroup:_,focus:m,size:v,disabled:f,modelValue:w}=Ie(u,h);function y(){re(()=>h("change",w.value))}return(e,s)=>{var l;return L(),E("label",{class:x([n(a).b(),n(a).is("disabled",n(f)),n(a).is("focus",n(m)),n(a).is("bordered",e.border),n(a).is("checked",n(w)===e.label),n(a).m(n(v))])},[D("span",{class:x([n(a).e("input"),n(a).is("disabled",n(f)),n(a).is("checked",n(w)===e.label)])},[Q(D("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":s[0]||(s[0]=i=>ke(w)?w.value=i:null),class:x(n(a).e("original")),value:e.label,name:e.name||((l=n(_))==null?void 0:l.name),disabled:n(f),type:"radio",onFocus:s[1]||(s[1]=i=>m.value=!0),onBlur:s[2]||(s[2]=i=>m.value=!1),onChange:y,onClick:s[3]||(s[3]=X(()=>{},["stop"]))},null,42,en),[[Me,n(w)]]),D("span",{class:x(n(a).e("inner"))},null,2)],2),D("span",{class:x(n(a).e("label")),onKeydown:s[4]||(s[4]=X(()=>{},["stop"]))},[ae(e.$slots,"default",{},()=>[P(z(e.label),1)])],34)],2)}}});var tn=le(on,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const sn=ee({...Le,name:{type:String,default:""}}),ln=["value","name","disabled"],an=G({name:"ElRadioButton"}),rn=G({...an,props:sn,setup(d){const h=d,u=se("radio"),{radioRef:a,focus:r,size:_,disabled:m,modelValue:v,radioGroup:f}=Ie(h),w=j(()=>({backgroundColor:(f==null?void 0:f.fill)||"",borderColor:(f==null?void 0:f.fill)||"",boxShadow:f!=null&&f.fill?`-1px 0 0 0 ${f.fill}`:"",color:(f==null?void 0:f.textColor)||""}));return(y,e)=>{var s;return L(),E("label",{class:x([n(u).b("button"),n(u).is("active",n(v)===y.label),n(u).is("disabled",n(m)),n(u).is("focus",n(r)),n(u).bm("button",n(_))])},[Q(D("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":e[0]||(e[0]=l=>ke(v)?v.value=l:null),class:x(n(u).be("button","original-radio")),value:y.label,type:"radio",name:y.name||((s=n(f))==null?void 0:s.name),disabled:n(m),onFocus:e[1]||(e[1]=l=>r.value=!0),onBlur:e[2]||(e[2]=l=>r.value=!1),onClick:e[3]||(e[3]=X(()=>{},["stop"]))},null,42,ln),[[Me,n(v)]]),D("span",{class:x(n(u).be("button","inner")),style:je(n(v)===y.label?n(w):{}),onKeydown:e[4]||(e[4]=X(()=>{},["stop"]))},[ae(y.$slots,"default",{},()=>[P(z(y.label),1)])],38)],2)}}});var Ce=le(rn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const un=ee({id:{type:String,default:void 0},size:_e,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),cn=Se,dn=["id","aria-label","aria-labelledby"],mn=G({name:"ElRadioGroup"}),fn=G({...mn,props:un,emits:cn,setup(d,{emit:h}){const u=d,a=se("radio"),r=$e(),_=p(),{formItem:m}=Be(),{inputId:v,isLabeledByFormItem:f}=Ve(u,{formItemContext:m}),w=e=>{h(ie,e),re(()=>h("change",e))};Oe(()=>{const e=_.value.querySelectorAll("[type=radio]"),s=e[0];!Array.from(e).some(l=>l.checked)&&s&&(s.tabIndex=0)});const y=j(()=>u.name||r.value);return Ae(xe,Qe({...ze(u),changeEvent:w,name:y})),ue(()=>u.modelValue,()=>{u.validateEvent&&(m==null||m.validate("change").catch(e=>Ze()))}),(e,s)=>(L(),E("div",{id:n(v),ref_key:"radioGroupRef",ref:_,class:x(n(a).b("group")),role:"radiogroup","aria-label":n(f)?void 0:e.label||"radio-group","aria-labelledby":n(f)?n(m).labelId:void 0},[ae(e.$slots,"default")],10,dn))}});var Ee=le(fn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const pn=Fe(tn,{RadioButton:Ce,RadioGroup:Ee}),vn=ye(Ee);ye(Ce);const gn=""+new URL("stringData-4f6bc0b1.png",import.meta.url).href;function bn(){const d=p([]),h=p([]);async function u(){const{data:e}=await Ue.get(gn);return e.split(/\n/).filter(l=>l.trim()!=="")}async function a(){return(await u()).map((s,l)=>({menuName:s,menuId:s+(l+1)}))}function r(e,s=5,{onlySingle:l}={}){e=JSON.parse(JSON.stringify(e));const i=[];for(;s>0;){if(e.length<=0)throw new Error("菜单剩余不足,取不到了");const o=Math.floor(Math.random()*e.length);i.find(c=>c.menuId===e[o].menuId)?s++:(i.push(e[o]),e=e.filter(c=>c.menuId!==e[o].menuId),s--)}return l&&m(e,i),i}function _(e,s){return e.reduce((l,i)=>(s.find(o=>o.menuId===i.menuId)||l.push(i),l),[])}function m(e,s){h.value=_(e,s)}const v=p([]);function f(e){const s=r(d.value,e);console.log("🚀 ~ file: useProcessDataHook.js:83 ~ initMenu ~ menuLevel1:",s),v.value=w(s,e)}function w(e,s){return e.map(l=>(l.children=r(d.value,s).map(i=>(i.parentId=l.menuId,i)),l.children.map(i=>{i.children=r(d.value,s).map(o=>(o.parentId=i.menuId,o))}),l)),e}function y(e,{parentList:s,onlySingle:l}={}){return s?s.reduce((i,o)=>{const c=r(h.value,e,{onlySingle:l}).map(b=>(b.parentId=o.menuId,b));return i.concat(c)},[]):r(h.value,e,{onlySingle:l})}return{allMenu:d,remainMenu:h,mapData:a,getRandomData:r,changeRemainMenu:m,menuTree:v,initMenu:f,createLevelDataList:y}}const{allMenu:be,remainMenu:he,mapData:hn,getRandomData:_n,changeRemainMenu:Hn,menuTree:jn,initMenu:On,createLevelDataList:te}=bn();function yn(){const d=p(!1),h=p(!1),u=p(!1),a=p(!0),r=p(!1),_=p(!1),m=p([]),v=p([]),f=p([]),w=p([]),y=p([]),e=p([]);async function s(t=5,g=!1){ge.start(),be.value=await hn(),he.value=be.value,m.value=te(t),console.log("🚀 ~ file: menuHook.ts:47 ~ initMenu ~ menuLevel1List.value:",m.value),w.value=m.value,v.value=te(t,{parentList:m.value,onlySingle:g}),console.log("🚀 ~ file: menuHook.ts:46 ~ initMenu ~ menuLevel2List.value:",v.value);const k=te(t,{parentList:v.value,onlySingle:g});f.value=k.map(N=>(N.children=_n(he.value,t),N)),ge.done(),console.log("🚀 ~ file: menuHook.ts:51 ~ initMenu ~ menuLevel3List.value:",f.value)}const l=j(()=>u.value?`flex-row ${h.value?"justify-center ":"justify-start"}`:`flex-col ${h.value?"items-center  pl-36":"items-start"}`);return{isHide:d,isGlobalColumn:h,isThirdColumn:u,isShowFirstMenu:a,isShowSecondMenu:r,isShowThirdMenu:_,thirdCenter:l,firstMenuClick:t=>{console.log("一级菜单点击"),d.value&&(a.value=!1),r.value=!0,_.value=!1,y.value=v.value.filter(g=>g.parentId===t.menuId)},secondMenuClick:t=>{d.value&&(a.value=!1),_.value=!0,e.value=f.value.filter(g=>g.parentId===t.menuId),console.log("🚀 ~ file: menuHook.ts:90 ~ secondMenuClick ~ menuLevel3.value:",e.value)},selectClick:t=>{console.log("选中:",t)},refreshStatus:()=>{a.value=!0,r.value=!1,_.value=!1},initMenu:s,menuLevel1:w,menuLevel2:y,menuLevel3:e,menuLevel1List:m,menuLevel2List:v,menuLevel3List:f}}function wn(){const d=p([]),h=["column","row"],u=[5,7,9],a=["column","row"],r=[!1,!0];function _(o,c){const b=[...o],t=[];for(;b.length;){const g=Math.floor(Math.random()*b.length);t.push(b.splice(g,1)[0])}return t}function m(o="column"){const c=[];return h.forEach((t,g)=>{u.forEach((k,N)=>{r.forEach((S,T)=>{c.push({num:k,thirdDirection:t,globDirection:o,isFirstShow:S})})})}),c.forEach((t,g)=>{t.id=g+1}),_(c)}function v(o){return o[Math.floor(Math.random()*o.length)]}function f({level1List:o,level2List:c,level3List:b}){const t=v(o),g=t.menuName,k=c.filter(O=>O.parentId===t.menuId),N=v(k),S=N.menuName,T=b.filter(O=>O.parentId===N.menuId),M=v(T),F=M.menuName,B=v(M.children).menuName;return{level1Name:g,level2Name:S,level3Name:F,level4Name:B}}function w({level1List:o,level2List:c,level3List:b,questionNumber:t}){const g=[];for(let k=0;k<t;k++)g.push(f({level1List:o,level2List:c,level3List:b}));return g}function y(o,c){const b=Math.floor(Math.random()*o.length),t=o[b];return t.menuName!==c?t.menuName:y(o,c)}function e(o,c,b,t,g,k){let N=[];k==="type1"?N=["level1Name","level2Name"]:k==="type2"&&(N=["level1Name","level2Name","level3Name","level4Name"]);const S=o.map(M=>({question:M,isTrue:!0})),T=[];for(;T.length<c;){const M=Math.floor(Math.random()*o.length);T.includes(M)||T.push(M)}return S.forEach(M=>{T.forEach(F=>{const $=N[Math.floor(Math.random()*N.length)];if($==="level1Name")S[F].question.level1Name=y(b,M.question.level1Name);else if($==="level2Name")S[F].question.level2Name=y(t,M.question.level2Name);else if($==="level3Name")S[F].question.level3Name=y(g,M.question.level3Name);else if($==="level4Name"){const B=g.filter(A=>A.menuName!==M.question.level3Name),O=Math.floor(Math.random()*B.length);S[F].question.level4Name=y(B[O].children,M.question.level4Name)}S[F].isTrue=!1})}),S}function s(o,c){const b=[];return c==="type1"?o.forEach(t=>{b.push({questionType:c,questionStr:`该页面中节点${t.question.level1Name}与节点${t.question.level2Name}是否属于父子关系`,isTrue:t.isTrue})}):c==="type2"&&o.forEach(t=>{b.push({questionType:c,questionStr:`该页面中节点路径“${t.question.level1Name}-${t.question.level2Name}-${t.question.level3Name}-${t.question.level4Name}“否正确`,isTrue:t.isTrue})}),b}function l({level1List:o,level2List:c,level3List:b,questionNumber:t=20,questionType:g="type1",falsePercent:k=50}){const N=w({level1List:o,level2List:c,level3List:b,questionNumber:t}),S=N.length*k/100;console.log("🚀 ~ file: questionHook.ts:206 ~ useQuestionHook ~ falseNum:",S);const T=e(N,S,o,c,b,g);console.log("🚀 ~ file: questionHook.ts:207 ~ useQuestionHook ~ res:",T),d.value=s(T,g),console.log("🚀 ~ file: questionHook.ts:238 ~ useQuestionHook ~ questionStrList:",d)}function i(){const o=[];return u.forEach((c,b)=>{for(let t=0;t<2;t++){const g={num:c,thirdDirection:a[t],globDirection:h[t],isFirstShow:r[t]};o.push(g)}}),o}return{createMenuTypeList:m,createQuestionList:l,generateFirstTypeList:i,questionStrList:d}}const Mn=["innerHTML"],kn={class:"flex justify-center p-2"},Nn=G({__name:"QuestionDialog",props:{questionStrList:{}},emits:["refreshMenu"],setup(d,{emit:h}){const u=h,a=d,r=p(0),_=p(0),m=p(),v=p([]),f=p(0),w=p(0);ue(_,l=>(f.value=Date.now(),m.value=a.questionStrList[l]),{immediate:!0});function y(l){return l?l.replace(/[A-Za-z]/g,o=>`<span class="font-bold">${o}</span>`):""}function e(){var t,g;w.value=Date.now();const i=((w.value-f.value)/1e3).toFixed(2),c=r.value===1===((t=m.value)==null?void 0:t.isTrue),b={questionType:(g=m.value)==null?void 0:g.questionType,isAnswerTrue:c,times:i};v.value.push(b),s(v.value),_.value===a.questionStrList.length-1?u("refreshMenu"):(_.value++,r.value=0)}function s(l){const i=sessionStorage.getItem("answer");if(i){const o=JSON.parse(i);o.push(...l),sessionStorage.setItem("answer",JSON.stringify(o))}else sessionStorage.setItem("answer",JSON.stringify(l))}return re(()=>{var i,o;const l=document.getElementById("modelDialogRef");(o=(i=l==null?void 0:l.parentNode)==null?void 0:i.parentNode)==null||o.setAttribute("style","pointer-events: none;")}),(l,i)=>{const o=pn,c=vn,b=we,t=Ne;return L(),Y(t,{"model-value":"","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,"append-to-body":"",width:"50%",draggable:"",top:"85vh",id:"modelDialogRef",class:"dialog-question"},{default:R(()=>{var g;return[D("span",{innerHTML:y((g=m.value)==null?void 0:g.questionStr)},null,8,Mn),D("div",kn,[V(c,{modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=k=>r.value=k)},{default:R(()=>[V(o,{label:1},{default:R(()=>[P("是")]),_:1}),V(o,{label:2},{default:R(()=>[P("否")]),_:1})]),_:1},8,["modelValue"]),V(b,{disabled:!r.value,type:"primary",class:"ml-auto",onClick:e},{default:R(()=>[P(" 确认 ")]),_:1},8,["disabled"])])]}),_:1})}}});const Ln=G({__name:"ExportDialog",setup(d){p(0),p(0),p(),p([]),p(0),p(0);function h(){const u=sessionStorage.getItem("question");console.log("🚀 ~ file: ExportDialog.vue:35 ~ exportExcel ~ answerData:",u)}return(u,a)=>{const r=we,_=Ne;return L(),Y(_,{"model-value":"","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,fullscreen:""},{default:R(()=>[V(r,{type:"primary",class:"ml-auto",onClick:h},{default:R(()=>[P(" 导出数据 ")]),_:1})]),_:1})}}});const Sn=["onClick"],xn=["onClick"],In={class:"font-bold w-32 rounded-sm py-2 px-2"},Cn=["onClick"],En=G({__name:"menu",setup(d){const h=Pe(),u=Je(),{isHide:a,isGlobalColumn:r,isThirdColumn:_,isShowFirstMenu:m,isShowSecondMenu:v,isShowThirdMenu:f,thirdCenter:w,firstMenuClick:y,secondMenuClick:e,selectClick:s,refreshStatus:l,initMenu:i,menuLevel1:o,menuLevel2:c,menuLevel3:b,menuLevel1List:t,menuLevel2List:g,menuLevel3List:k}=yn(),{createMenuTypeList:N,createQuestionList:S,questionStrList:T}=wn(),M=p(!1),F=p(!1);let $=N("column");console.log("🚀十二种随机菜单:",$);let B=9;async function O({num:I=5,questionType:q="type1",questionNumber:H=1}){m.value=!0,v.value=!1,f.value=!1,await i(I),console.log("菜单初始化成功"),S({level1List:t.value,level2List:g.value,level3List:k.value,questionType:q,questionNumber:H}),M.value=!0}let A="type1",ce="column";function De(I="column"){$=N(I)}function Te(I="type1",q="row",H=4){A=I,ce=q,B=0,De(ce),me()}function de({globDirection:I,type:q}){h.push({name:"menu-test",params:{globDirection:I??u.params.globDirection,type:q??u.params.type}})}ue([()=>u.params.globDirection,()=>u.params.type],(I,q)=>{console.log(I,q);const{globDirection:H,type:J}=u.params;Te(J,H)},{immediate:!0});function me(){B===$.length-1&&(A==="type1"&&de({type:"type2"}),A==="type2"&&de({globDirection:"column"})),M.value=!1;const{num:I,isFirstShow:q,globDirection:H,thirdDirection:J,id:C}=$[B];r.value=H==="column",a.value=q,_.value=J==="column",console.log("🚀 ~ file: menu.vue:144 ~ refreshMenu ~ num:",I),O({num:I,questionNumber:A==="type1"?4:3}),console.log("🚀 ~ file: menu.vue:147 ~ refreshMenu ~ menuTypeIndex:",B),B++}return(I,q)=>{const H=Ke("Operation"),J=Ge;return L(),E(U,null,[M.value?(L(),E("div",{key:0,class:x(["flex h-full w-full",n(r)?"flex-col":"flex-row"])},[Q(V(J,{color:"#FFF",class:"no-inherit",onClick:q[0]||(q[0]=C=>m.value=!n(m))},{default:R(()=>[V(H)]),_:1},512),[[W,n(a)]]),V(ne,{name:"fade"},{default:R(()=>[Q(D("div",{class:x(["bg-[#324868] flex gap-1 text-white border-solid border-[#e4e4e4]",n(r)?"flex-row justify-center border-b":"flex-col border-r"])},[(L(!0),E(U,null,Z(n(o),C=>(L(),E("div",{key:C.menuId,onClick:K=>n(y)(C),class:"w-32 font-bold min-w-max rounded-sm py-2 px-2"},z(C.menuName),9,Sn))),128))],2),[[W,n(m)]])]),_:1}),V(ne,{name:"fade"},{default:R(()=>[Q(D("div",{class:x(["bg-[#e2e0df] flex gap-1 text-black border-solid border-[#e4e4e4]",n(r)?"flex-row justify-center border-b":"flex-col border-r"])},[(L(!0),E(U,null,Z(n(c),C=>(L(),E("div",{key:C.menuId,onClick:K=>n(e)(C),class:"w-32 font-bold min-w-max rounded-sm py-2 px-2"},z(C.menuName),9,xn))),128))],2),[[W,n(v)]])]),_:1}),V(ne,{name:"fade"},{default:R(()=>[Q(D("div",{class:x(["flex-1 bg-[#ffffff] flex gap-1 text-black overflow-auto",n(w)])},[(L(!0),E(U,null,Z(n(b),C=>(L(),E("div",{key:C.menuId,class:x(["flex items-center gap-1",n(_)?"flex-col":"flex-row"])},[D("span",In,z(C.menuName),1),D("div",{class:x(["flex gap-1",n(_)?"flex-col":"flex-row"])},[(L(!0),E(U,null,Z(C.children,K=>(L(),E("div",{key:K.menuId,onClick:Dn=>n(s)(K),class:"w-32 min-w-max rounded-sm py-2 px-2"},z(K.menuName),9,Cn))),128))],2)],2))),128))],2),[[W,n(f)]])]),_:1})],2)):oe("",!0),M.value?(L(),Y(Nn,{key:1,questionStrList:n(T),onRefreshMenu:me},null,8,["questionStrList"])):oe("",!0),F.value?(L(),Y(Ln,{key:2})):oe("",!0)],64)}}});const An=Xe(En,[["__scopeId","data-v-ff6f45da"]]);export{An as default};
