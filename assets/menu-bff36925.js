import{r as o,z as q,N as F,d as z,A as G,B as J,o as p,l as w,e as N,w as R,T as B,C,q as u,b as H,v as $,m as b,F as D,p as T,D as S}from"./index-a221f5ed.js";import"./el-button-fefe36e9.js";import{E as O}from"./el-overlay-9a896cd8.js";import"./el-input-0aba82f7.js";import{a as V}from"./axios-fe82ccb7.js";import{_ as U}from"./plugin-vueexport-helper-c27b6911.js";import"./typescript-91f56acd.js";const K=""+new URL("stringData-4f6bc0b1.txt",import.meta.url).href;function Q(){const m=o([]),f=o([]);async function I(){const{data:e}=await V.get(K);return e.split(/\n/).filter(s=>s.trim()!=="")}async function c(){return(await I()).map((t,s)=>({menuName:t,menuId:t+(s+1)}))}function l(e,t=5,{onlySingle:s}={}){e=JSON.parse(JSON.stringify(e));const a=[];for(;t>0;){if(e.length<=0)throw new Error("菜单剩余不足,取不到了");const r=Math.floor(Math.random()*e.length);a.find(v=>v.menuId===e[r].menuId)?t++:(a.push(e[r]),e=e.filter(v=>v.menuId!==e[r].menuId),t--)}return s&&h(e,a),a}function x(e,t){return e.reduce((s,a)=>(t.find(r=>r.menuId===a.menuId)||s.push(a),s),[])}function h(e,t){f.value=x(e,t)}const d=o([]);function g(e){const t=l(m.value,e);console.log("🚀 ~ file: useProcessDataHook.js:83 ~ initMenu ~ menuLevel1:",t),d.value=M(t,e)}function M(e,t){return e.map(s=>(s.children=l(m.value,t).map(a=>(a.parentId=s.menuId,a)),s.children.map(a=>{a.children=l(m.value,t).map(r=>(r.parentId=a.menuId,r))}),s)),e}function k(e,{parentList:t,onlySingle:s}={}){return t?t.reduce((a,r)=>{const v=l(f.value,e,{onlySingle:s}).map(_=>(_.parentId=r.menuId,_));return a.concat(v)},[]):l(f.value,e,{onlySingle:s})}return{allMenu:m,remainMenu:f,mapData:c,getRandomData:l,changeRemainMenu:h,menuTree:d,initMenu:g,createLevelDataList:k}}const{allMenu:E,remainMenu:P,mapData:W,getRandomData:X,changeRemainMenu:fe,menuTree:me,initMenu:de,createLevelDataList:j}=Q();function Y(){const m=o(!1),f=o(!1),I=o(!1),c=o(!0),l=o(!1),x=o(!1),h=o([]),d=o([]),g=o([]),M=o([]),k=o([]),e=o([]);async function t(n=5,i=!1){F.start(),E.value=await W(),P.value=E.value,h.value=j(n),M.value=h.value,d.value=j(n,{parentList:h.value,onlySingle:i}),console.log("🚀 ~ file: menuHook.ts:46 ~ initMenu ~ menuLevel2List.value:",d.value);const y=j(n,{parentList:d.value,onlySingle:i});g.value=y.map(A=>(A.children=X(P.value,n),A)),F.done(),console.log("🚀 ~ file: menuHook.ts:51 ~ initMenu ~ menuLevel3List.value:",g.value)}const s=q(()=>I.value?`flex-row ${f.value?"justify-center ":"justify-start"}`:`flex-col ${f.value?"items-center  pl-36":"items-start"}`),a=new Date,r=n=>{console.log("一级菜单点击"),m.value&&(c.value=!1),l.value=!0,x.value=!1,k.value=d.value.filter(i=>i.parentId===n.menuId)},v=n=>{m.value&&(c.value=!1,l.value=!1),x.value=!0,e.value=g.value.filter(i=>i.parentId===n.menuId),console.log("🚀 ~ file: menuHook.ts:90 ~ secondMenuClick ~ menuLevel3.value:",e.value)},_=n=>{console.log("选中:",n);const y=(new Date().getTime()-a.getTime())/1e3;O.alert(`用时: ${y}秒`,"提示",{confirmButtonText:"确定",callback:()=>{L()}})},L=()=>{c.value=!0,l.value=!1,x.value=!1};return{isHide:m,isGlobalColumn:f,isThirdColumn:I,isShowFirstMenu:c,isShowSecondMenu:l,isShowThirdMenu:x,thirdCenter:s,firstMenuClick:r,secondMenuClick:v,selectClick:_,refreshStatus:L,initMenu:t,menuLevel1:M,menuLevel2:k,menuLevel3:e}}const Z=["onClick"],ee=["onClick"],ne={class:"font-bold w-32 rounded-sm py-2 px-2"},te=["onClick"],se=z({__name:"menu",setup(m){const f=G(),{isHide:I,isGlobalColumn:c,isThirdColumn:l,isShowFirstMenu:x,isShowSecondMenu:h,isShowThirdMenu:d,thirdCenter:g,firstMenuClick:M,secondMenuClick:k,selectClick:e,refreshStatus:t,initMenu:s,menuLevel1:a,menuLevel2:r,menuLevel3:v}=Y();return J(()=>{const{num:_=5,direction:L="row",thirdDirection:n="row",single:i="false"}=f.query;c.value=L==="column",l.value=n==="column",s(typeof _=="string"?parseInt(_):5,!0)}),(_,L)=>(p(),w("div",{class:C(["flex h-full w-full",u(c)?"flex-col":"flex-row"])},[N(B,{name:"fade"},{default:R(()=>[H(b("div",{class:C(["bg-[#324868] flex gap-1 text-white border-r border-solid border-[#e4e4e4]",u(c)?"flex-row justify-center":"flex-col"])},[(p(!0),w(D,null,T(u(a),n=>(p(),w("div",{key:n.menuId,onClick:i=>u(M)(n),class:"w-32 font-bold min-w-max rounded-sm py-2 px-2"},S(n.menuName),9,Z))),128))],2),[[$,u(x)]])]),_:1}),N(B,{name:"fade"},{default:R(()=>[H(b("div",{class:C(["bg-[#e2e0df] flex gap-1 text-black border-r border-solid border-[#e4e4e4]",u(c)?"flex-row justify-center":"flex-col"])},[(p(!0),w(D,null,T(u(r),n=>(p(),w("div",{key:n.menuId,onClick:i=>u(k)(n),class:"w-32 font-bold min-w-max rounded-sm py-2 px-2"},S(n.menuName),9,ee))),128))],2),[[$,u(h)]])]),_:1}),N(B,{name:"fade"},{default:R(()=>[H(b("div",{class:C(["flex-1 bg-[#ffffff] flex gap-1 text-black overflow-auto",u(g)])},[(p(!0),w(D,null,T(u(v),n=>(p(),w("div",{key:n.menuId,class:C(["flex items-center gap-1",u(l)?"flex-col":"flex-row"])},[b("span",ne,S(n.menuName),1),b("div",{class:C(["flex gap-1",u(l)?"flex-col":"flex-row"])},[(p(!0),w(D,null,T(n.children,i=>(p(),w("div",{key:i.menuId,onClick:y=>u(e)(i),class:"w-32 min-w-max rounded-sm py-2 px-2"},S(i.menuName),9,te))),128))],2)],2))),128))],2),[[$,u(d)]])]),_:1})],2))}});const ve=U(se,[["__scopeId","data-v-c143662c"]]);export{ve as default};
