import{r,z as q,N as F,d as z,A as G,B as J,o as p,l as w,e as N,w as R,T as B,C as I,q as o,b as H,v as $,m as y,F as D,p as T,D as S}from"./index-ff12e7a3.js";import"./el-button-4504869c.js";import{E as O}from"./el-overlay-f0640166.js";import"./el-input-d5240802.js";import{a as V}from"./axios-063f0524.js";import{_ as U}from"./plugin-vueexport-helper-c27b6911.js";import"./typescript-e3111e6a.js";const K=""+new URL("stringData1-4f6bc0b1.png",import.meta.url).href;function Q(){const d=r([]),f=r([]);async function M(){const{data:e}=await V.get(K);return e.split(/\n/).filter(s=>s.trim()!=="")}async function c(){return(await M()).map((t,s)=>({menuName:t,menuId:t+(s+1)}))}function l(e,t=5,{onlySingle:s}={}){e=JSON.parse(JSON.stringify(e));const a=[];for(;t>0;){if(e.length<=0)throw new Error("菜单剩余不足,取不到了");const i=Math.floor(Math.random()*e.length);a.find(v=>v.menuId===e[i].menuId)?t++:(a.push(e[i]),e=e.filter(v=>v.menuId!==e[i].menuId),t--)}return s&&h(e,a),a}function x(e,t){return e.reduce((s,a)=>(t.find(i=>i.menuId===a.menuId)||s.push(a),s),[])}function h(e,t){f.value=x(e,t)}const m=r([]);function g(e){const t=l(d.value,e);console.log("🚀 ~ file: useProcessDataHook.js:83 ~ initMenu ~ menuLevel1:",t),m.value=k(t,e)}function k(e,t){return e.map(s=>(s.children=l(d.value,t).map(a=>(a.parentId=s.menuId,a)),s.children.map(a=>{a.children=l(d.value,t).map(i=>(i.parentId=a.menuId,i))}),s)),e}function C(e,{parentList:t,onlySingle:s}={}){return t?t.reduce((a,i)=>{const v=l(f.value,e,{onlySingle:s}).map(_=>(_.parentId=i.menuId,_));return a.concat(v)},[]):l(f.value,e,{onlySingle:s})}return{allMenu:d,remainMenu:f,mapData:c,getRandomData:l,changeRemainMenu:h,menuTree:m,initMenu:g,createLevelDataList:C}}const{allMenu:E,remainMenu:P,mapData:W,getRandomData:X,changeRemainMenu:fe,menuTree:de,initMenu:me,createLevelDataList:j}=Q();function Y(){const d=r(!1),f=r(!1),M=r(!1),c=r(!0),l=r(!1),x=r(!1),h=r([]),m=r([]),g=r([]),k=r([]),C=r([]),e=r([]);async function t(n=5,u=!1){F.start(),E.value=await W(),P.value=E.value,h.value=j(n),k.value=h.value,m.value=j(n,{parentList:h.value,onlySingle:u}),console.log("🚀 ~ file: menuHook.ts:46 ~ initMenu ~ menuLevel2List.value:",m.value);const b=j(n,{parentList:m.value,onlySingle:u});g.value=b.map(A=>(A.children=X(P.value,n),A)),F.done(),console.log("🚀 ~ file: menuHook.ts:51 ~ initMenu ~ menuLevel3List.value:",g.value)}const s=q(()=>M.value?`flex-row ${f.value?"justify-center ":"justify-start"}`:`flex-col ${f.value?"items-center  pl-36":"items-start"}`),a=new Date,i=n=>{console.log("一级菜单点击"),d.value&&(c.value=!1),l.value=!0,x.value=!1,C.value=m.value.filter(u=>u.parentId===n.menuId)},v=n=>{d.value&&(c.value=!1,l.value=!1),x.value=!0,e.value=g.value.filter(u=>u.parentId===n.menuId),console.log("🚀 ~ file: menuHook.ts:90 ~ secondMenuClick ~ menuLevel3.value:",e.value)},_=n=>{console.log("选中:",n);const b=(new Date().getTime()-a.getTime())/1e3;O.alert(`用时: ${b}秒`,"提示",{confirmButtonText:"确定",callback:()=>{L()}})},L=()=>{c.value=!0,l.value=!1,x.value=!1};return{isHide:d,isGlobalColumn:f,isThirdColumn:M,isShowFirstMenu:c,isShowSecondMenu:l,isShowThirdMenu:x,thirdCenter:s,firstMenuClick:i,secondMenuClick:v,selectClick:_,refreshStatus:L,initMenu:t,menuLevel1:k,menuLevel2:C,menuLevel3:e}}const Z=["onClick"],ee=["onClick"],ne={class:"font-bold w-32 rounded-sm py-2 px-2"},te=["onClick"],se=z({__name:"menu",setup(d){const f=G(),{isHide:M,isGlobalColumn:c,isThirdColumn:l,isShowFirstMenu:x,isShowSecondMenu:h,isShowThirdMenu:m,thirdCenter:g,firstMenuClick:k,secondMenuClick:C,selectClick:e,refreshStatus:t,initMenu:s,menuLevel1:a,menuLevel2:i,menuLevel3:v}=Y();return J(()=>{const{num:_=5,hide:L="false",direction:n="row",thirdDirection:u="row",single:b="false"}=f.query;c.value=n==="column",l.value=u==="column",M.value=L==="true",s(typeof _=="string"?parseInt(_):5,!0)}),(_,L)=>(p(),w("div",{class:I(["flex h-full w-full",o(c)?"flex-col":"flex-row"])},[N(B,{name:"fade"},{default:R(()=>[H(y("div",{class:I(["bg-[#324868] flex gap-1 text-white border-r border-solid border-[#e4e4e4]",o(c)?"flex-row justify-center":"flex-col"])},[(p(!0),w(D,null,T(o(a),n=>(p(),w("div",{key:n.menuId,onClick:u=>o(k)(n),class:"w-32 font-bold min-w-max rounded-sm py-2 px-2"},S(n.menuName),9,Z))),128))],2),[[$,o(x)]])]),_:1}),N(B,{name:"fade"},{default:R(()=>[H(y("div",{class:I(["bg-[#e2e0df] flex gap-1 text-black border-r border-solid border-[#e4e4e4]",o(c)?"flex-row justify-center":"flex-col"])},[(p(!0),w(D,null,T(o(i),n=>(p(),w("div",{key:n.menuId,onClick:u=>o(C)(n),class:"w-32 font-bold min-w-max rounded-sm py-2 px-2"},S(n.menuName),9,ee))),128))],2),[[$,o(h)]])]),_:1}),N(B,{name:"fade"},{default:R(()=>[H(y("div",{class:I(["flex-1 bg-[#ffffff] flex gap-1 text-black overflow-auto",o(g)])},[(p(!0),w(D,null,T(o(v),n=>(p(),w("div",{key:n.menuId,class:I(["flex items-center gap-1",o(l)?"flex-col":"flex-row"])},[y("span",ne,S(n.menuName),1),y("div",{class:I(["flex gap-1",o(l)?"flex-col":"flex-row"])},[(p(!0),w(D,null,T(n.children,u=>(p(),w("div",{key:u.menuId,onClick:b=>o(e)(u),class:"w-32 min-w-max rounded-sm py-2 px-2"},S(u.menuName),9,te))),128))],2)],2))),128))],2),[[$,o(m)]])]),_:1})],2))}});const ve=U(se,[["__scopeId","data-v-37a21b6d"]]);export{ve as default};
