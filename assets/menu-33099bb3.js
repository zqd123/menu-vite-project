import{c as ee,d as fe,e as pe,f as _e,h as Re,j as $e,k as le,_ as ae,l as Be,m as Ve,n as Fe,w as Ge,o as ye,E as we,b as He}from"./el-button-6046186b.js";/* empty css                */import{i as ve,r as p,x as je,y as j,d as G,o as L,l as E,m as D,b as Q,z as Me,A as n,g as ke,B as x,p as X,C as re,n as ue,q as P,D as z,E as Oe,F as Ae,G as Qe,a as ze,t as Pe,H as ie,N as be,I as Y,w as R,e as F,J as Je,K as Ke,k as Ue,v as W,T as oe,L as te,M as U,O as Z}from"./index-d6980e52.js";import{a as We}from"./axios-cb314bb8.js";import{E as Ne}from"./el-dialog-277aadf9.js";import"./el-overlay-91f5c7f9.js";import{U as ce,C as Ze,d as Xe}from"./event-0e1210c4.js";import{_ as Ye}from"./plugin-vueexport-helper-c27b6911.js";const Le=ee({size:_e,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),en=ee({...Le,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),Se={[ce]:d=>ve(d)||fe(d)||pe(d),[Ze]:d=>ve(d)||fe(d)||pe(d)},xe=Symbol("radioGroupKey"),Ie=(d,h)=>{const u=p(),a=je(xe,void 0),r=j(()=>!!a),_=j({get(){return r.value?a.modelValue:d.modelValue},set(y){r.value?a.changeEvent(y):h&&h(ce,y),u.value.checked=d.modelValue===d.label}}),m=Re(j(()=>a==null?void 0:a.size)),v=$e(j(()=>a==null?void 0:a.disabled)),f=p(!1),w=j(()=>v.value||r.value&&_.value!==d.label?-1:0);return{radioRef:u,isGroup:r,radioGroup:a,focus:f,size:m,disabled:v,tabIndex:w,modelValue:_}},nn=["value","name","disabled"],on=G({name:"ElRadio"}),tn=G({...on,props:en,emits:Se,setup(d,{emit:h}){const u=d,a=le("radio"),{radioRef:r,radioGroup:_,focus:m,size:v,disabled:f,modelValue:w}=Ie(u,h);function y(){ue(()=>h("change",w.value))}return(e,s)=>{var l;return L(),E("label",{class:x([n(a).b(),n(a).is("disabled",n(f)),n(a).is("focus",n(m)),n(a).is("bordered",e.border),n(a).is("checked",n(w)===e.label),n(a).m(n(v))])},[D("span",{class:x([n(a).e("input"),n(a).is("disabled",n(f)),n(a).is("checked",n(w)===e.label)])},[Q(D("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":s[0]||(s[0]=i=>ke(w)?w.value=i:null),class:x(n(a).e("original")),value:e.label,name:e.name||((l=n(_))==null?void 0:l.name),disabled:n(f),type:"radio",onFocus:s[1]||(s[1]=i=>m.value=!0),onBlur:s[2]||(s[2]=i=>m.value=!1),onChange:y,onClick:s[3]||(s[3]=X(()=>{},["stop"]))},null,42,nn),[[Me,n(w)]]),D("span",{class:x(n(a).e("inner"))},null,2)],2),D("span",{class:x(n(a).e("label")),onKeydown:s[4]||(s[4]=X(()=>{},["stop"]))},[re(e.$slots,"default",{},()=>[P(z(e.label),1)])],34)],2)}}});var sn=ae(tn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const ln=ee({...Le,name:{type:String,default:""}}),an=["value","name","disabled"],rn=G({name:"ElRadioButton"}),un=G({...rn,props:ln,setup(d){const h=d,u=le("radio"),{radioRef:a,focus:r,size:_,disabled:m,modelValue:v,radioGroup:f}=Ie(h),w=j(()=>({backgroundColor:(f==null?void 0:f.fill)||"",borderColor:(f==null?void 0:f.fill)||"",boxShadow:f!=null&&f.fill?`-1px 0 0 0 ${f.fill}`:"",color:(f==null?void 0:f.textColor)||""}));return(y,e)=>{var s;return L(),E("label",{class:x([n(u).b("button"),n(u).is("active",n(v)===y.label),n(u).is("disabled",n(m)),n(u).is("focus",n(r)),n(u).bm("button",n(_))])},[Q(D("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":e[0]||(e[0]=l=>ke(v)?v.value=l:null),class:x(n(u).be("button","original-radio")),value:y.label,type:"radio",name:y.name||((s=n(f))==null?void 0:s.name),disabled:n(m),onFocus:e[1]||(e[1]=l=>r.value=!0),onBlur:e[2]||(e[2]=l=>r.value=!1),onClick:e[3]||(e[3]=X(()=>{},["stop"]))},null,42,an),[[Me,n(v)]]),D("span",{class:x(n(u).be("button","inner")),style:Oe(n(v)===y.label?n(w):{}),onKeydown:e[4]||(e[4]=X(()=>{},["stop"]))},[re(y.$slots,"default",{},()=>[P(z(y.label),1)])],38)],2)}}});var Ce=ae(un,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const cn=ee({id:{type:String,default:void 0},size:_e,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),dn=Se,mn=["id","aria-label","aria-labelledby"],fn=G({name:"ElRadioGroup"}),pn=G({...fn,props:cn,emits:dn,setup(d,{emit:h}){const u=d,a=le("radio"),r=Be(),_=p(),{formItem:m}=Ve(),{inputId:v,isLabeledByFormItem:f}=Fe(u,{formItemContext:m}),w=e=>{h(ce,e),ue(()=>h("change",e))};Ae(()=>{const e=_.value.querySelectorAll("[type=radio]"),s=e[0];!Array.from(e).some(l=>l.checked)&&s&&(s.tabIndex=0)});const y=j(()=>u.name||r.value);return Qe(xe,ze({...Pe(u),changeEvent:w,name:y})),ie(()=>u.modelValue,()=>{u.validateEvent&&(m==null||m.validate("change").catch(e=>Xe()))}),(e,s)=>(L(),E("div",{id:n(v),ref_key:"radioGroupRef",ref:_,class:x(n(a).b("group")),role:"radiogroup","aria-label":n(f)?void 0:e.label||"radio-group","aria-labelledby":n(f)?n(m).labelId:void 0},[re(e.$slots,"default")],10,mn))}});var Ee=ae(pn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const vn=Ge(sn,{RadioButton:Ce,RadioGroup:Ee}),bn=ye(Ee);ye(Ce);const gn=""+new URL("stringData-4f6bc0b1.png",import.meta.url).href;function hn(){const d=p([]),h=p([]);async function u(){const{data:e}=await We.get(gn);return e.split(/\n/).filter(l=>l.trim()!=="")}async function a(){return(await u()).map((s,l)=>({menuName:s,menuId:s+(l+1)}))}function r(e,s=5,{onlySingle:l}={}){e=JSON.parse(JSON.stringify(e));const i=[];for(;s>0;){if(e.length<=0)throw new Error("菜单剩余不足,取不到了");const o=Math.floor(Math.random()*e.length);i.find(c=>c.menuId===e[o].menuId)?s++:(i.push(e[o]),e=e.filter(c=>c.menuId!==e[o].menuId),s--)}return l&&m(e,i),i}function _(e,s){return e.reduce((l,i)=>(s.find(o=>o.menuId===i.menuId)||l.push(i),l),[])}function m(e,s){h.value=_(e,s)}const v=p([]);function f(e){const s=r(d.value,e);console.log("🚀 ~ file: useProcessDataHook.js:83 ~ initMenu ~ menuLevel1:",s),v.value=w(s,e)}function w(e,s){return e.map(l=>(l.children=r(d.value,s).map(i=>(i.parentId=l.menuId,i)),l.children.map(i=>{i.children=r(d.value,s).map(o=>(o.parentId=i.menuId,o))}),l)),e}function y(e,{parentList:s,onlySingle:l}={}){return s?s.reduce((i,o)=>{const c=r(h.value,e,{onlySingle:l}).map(g=>(g.parentId=o.menuId,g));return i.concat(c)},[]):r(h.value,e,{onlySingle:l})}return{allMenu:d,remainMenu:h,mapData:a,getRandomData:r,changeRemainMenu:m,menuTree:v,initMenu:f,createLevelDataList:y}}const{allMenu:ge,remainMenu:he,mapData:_n,getRandomData:yn,changeRemainMenu:jn,menuTree:On,initMenu:An,createLevelDataList:se}=hn();function wn(){const d=p(!1),h=p(!1),u=p(!1),a=p(!0),r=p(!1),_=p(!1),m=p([]),v=p([]),f=p([]),w=p([]),y=p([]),e=p([]);async function s(t=5,b=!1){be.start(),ge.value=await _n(),he.value=ge.value,m.value=se(t),console.log("🚀 ~ file: menuHook.ts:47 ~ initMenu ~ menuLevel1List.value:",m.value),w.value=m.value,v.value=se(t,{parentList:m.value,onlySingle:b}),console.log("🚀 ~ file: menuHook.ts:46 ~ initMenu ~ menuLevel2List.value:",v.value);const k=se(t,{parentList:v.value,onlySingle:b});f.value=k.map(N=>(N.children=yn(he.value,t),N)),be.done(),console.log("🚀 ~ file: menuHook.ts:51 ~ initMenu ~ menuLevel3List.value:",f.value)}const l=j(()=>u.value?`flex-row ${h.value?"justify-center ":"justify-start"}`:`flex-col ${h.value?"items-center  pl-36":"items-start"}`);return{isHide:d,isGlobalColumn:h,isThirdColumn:u,isShowFirstMenu:a,isShowSecondMenu:r,isShowThirdMenu:_,thirdCenter:l,firstMenuClick:t=>{console.log("一级菜单点击"),d.value&&(a.value=!1),r.value=!0,_.value=!1,y.value=v.value.filter(b=>b.parentId===t.menuId)},secondMenuClick:t=>{d.value&&(a.value=!1),_.value=!0,e.value=f.value.filter(b=>b.parentId===t.menuId),console.log("🚀 ~ file: menuHook.ts:90 ~ secondMenuClick ~ menuLevel3.value:",e.value)},selectClick:t=>{console.log("选中:",t)},refreshStatus:()=>{a.value=!0,r.value=!1,_.value=!1},initMenu:s,menuLevel1:w,menuLevel2:y,menuLevel3:e,menuLevel1List:m,menuLevel2List:v,menuLevel3List:f}}function Mn(){const d=p([]),h=["column","row"],u=[5,7,9],a=["column","row"],r=[!1,!0];function _(o,c){const g=[...o],t=[];for(;g.length;){const b=Math.floor(Math.random()*g.length);t.push(g.splice(b,1)[0])}return t}function m(o="column"){const c=[];return h.forEach((t,b)=>{u.forEach((k,N)=>{r.forEach((S,T)=>{c.push({num:k,thirdDirection:t,globDirection:o,isFirstShow:S})})})}),c.forEach((t,b)=>{t.id=b+1}),_(c)}function v(o){return o[Math.floor(Math.random()*o.length)]}function f({level1List:o,level2List:c,level3List:g}){const t=v(o),b=t.menuName,k=c.filter(O=>O.parentId===t.menuId),N=v(k),S=N.menuName,T=g.filter(O=>O.parentId===N.menuId),M=v(T),$=M.menuName,V=v(M.children).menuName;return{level1Name:b,level2Name:S,level3Name:$,level4Name:V}}function w({level1List:o,level2List:c,level3List:g,questionNumber:t}){const b=[];for(let k=0;k<t;k++)b.push(f({level1List:o,level2List:c,level3List:g}));return b}function y(o,c){const g=Math.floor(Math.random()*o.length),t=o[g];return t.menuName!==c?t.menuName:y(o,c)}function e(o,c,g,t,b,k){let N=[];k==="type1"?N=["level1Name","level2Name"]:k==="type2"&&(N=["level1Name","level2Name","level3Name","level4Name"]);const S=o.map(M=>({question:M,isTrue:!0})),T=[];for(;T.length<c;){const M=Math.floor(Math.random()*o.length);T.includes(M)||T.push(M)}return S.forEach(M=>{T.forEach($=>{const B=N[Math.floor(Math.random()*N.length)];if(B==="level1Name")S[$].question.level1Name=y(g,M.question.level1Name);else if(B==="level2Name")S[$].question.level2Name=y(t,M.question.level2Name);else if(B==="level3Name")S[$].question.level3Name=y(b,M.question.level3Name);else if(B==="level4Name"){const V=b.filter(A=>A.menuName!==M.question.level3Name),O=Math.floor(Math.random()*V.length);S[$].question.level4Name=y(V[O].children,M.question.level4Name)}S[$].isTrue=!1})}),S}function s(o,c){const g=[];return c==="type1"?o.forEach(t=>{g.push({questionType:c,questionStr:`该页面中节点${t.question.level1Name}与节点${t.question.level2Name}是否属于父子关系`,isTrue:t.isTrue})}):c==="type2"&&o.forEach(t=>{g.push({questionType:c,questionStr:`该页面中节点路径“${t.question.level1Name}-${t.question.level2Name}-${t.question.level3Name}-${t.question.level4Name}“否正确`,isTrue:t.isTrue})}),g}function l({level1List:o,level2List:c,level3List:g,questionNumber:t=20,questionType:b="type1",falsePercent:k=50}){const N=w({level1List:o,level2List:c,level3List:g,questionNumber:t}),S=N.length*k/100;console.log("🚀 ~ file: questionHook.ts:206 ~ useQuestionHook ~ falseNum:",S);const T=e(N,S,o,c,g,b);console.log("🚀 ~ file: questionHook.ts:207 ~ useQuestionHook ~ res:",T),d.value=s(T,b),console.log("🚀 ~ file: questionHook.ts:238 ~ useQuestionHook ~ questionStrList:",d)}function i(){const o=[];return u.forEach((c,g)=>{for(let t=0;t<2;t++){const b={num:c,thirdDirection:a[t],globDirection:h[t],isFirstShow:r[t]};o.push(b)}}),o}return{createMenuTypeList:m,createQuestionList:l,generateFirstTypeList:i,questionStrList:d}}const kn=["innerHTML"],Nn={class:"flex justify-center p-2"},Ln=G({__name:"QuestionDialog",props:{questionStrList:{}},emits:["refreshMenu"],setup(d,{emit:h}){const u=h,a=d,r=p(0),_=p(0),m=p(),v=p([]),f=p(0),w=p(0);ie(_,l=>(f.value=Date.now(),m.value=a.questionStrList[l]),{immediate:!0});function y(l){return l?l.replace(/[A-Za-z]/g,o=>`<span class="font-bold">${o}</span>`):""}function e(){var t,b;w.value=Date.now();const i=((w.value-f.value)/1e3).toFixed(2),c=r.value===1===((t=m.value)==null?void 0:t.isTrue),g={questionType:(b=m.value)==null?void 0:b.questionType,isAnswerTrue:c,times:i};v.value.push(g),s(v.value),_.value===a.questionStrList.length-1?u("refreshMenu"):(_.value++,r.value=0)}function s(l){const i=sessionStorage.getItem("answer");if(i){const o=JSON.parse(i);o.push(...l),sessionStorage.setItem("answer",JSON.stringify(o))}else sessionStorage.setItem("answer",JSON.stringify(l))}return ue(()=>{var i,o;const l=document.getElementById("modelDialogRef");(o=(i=l==null?void 0:l.parentNode)==null?void 0:i.parentNode)==null||o.setAttribute("style","pointer-events: none;")}),(l,i)=>{const o=vn,c=bn,g=we,t=Ne;return L(),Y(t,{"model-value":"","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1,"append-to-body":"",width:"50%",draggable:"",top:"85vh",id:"modelDialogRef",class:"dialog-question"},{default:R(()=>{var b;return[D("span",{innerHTML:y((b=m.value)==null?void 0:b.questionStr)},null,8,kn),D("div",Nn,[F(c,{modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=k=>r.value=k)},{default:R(()=>[F(o,{label:1},{default:R(()=>[P("是")]),_:1}),F(o,{label:2},{default:R(()=>[P("否")]),_:1})]),_:1},8,["modelValue"]),F(g,{disabled:!r.value,type:"primary",class:"ml-auto",onClick:e},{default:R(()=>[P(" 确认 ")]),_:1},8,["disabled"])])]}),_:1})}}});const Sn=G({__name:"ExportDialog",setup(d){p(0),p(0),p(),p([]),p(0),p(0);function h(){const u=sessionStorage.getItem("question");console.log("🚀 ~ file: ExportDialog.vue:35 ~ exportExcel ~ answerData:",u)}return(u,a)=>{const r=we,_=Ne;return L(),Y(_,{"model-value":"","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,fullscreen:""},{default:R(()=>[F(r,{type:"primary",class:"ml-auto",onClick:h},{default:R(()=>[P(" 导出数据 ")]),_:1})]),_:1})}}});const xn=["onClick"],In=["onClick"],Cn={class:"font-bold w-32 rounded-sm py-2 px-2"},En=["onClick"],Dn=G({__name:"menu",setup(d){const h=Je(),u=Ke(),{isHide:a,isGlobalColumn:r,isThirdColumn:_,isShowFirstMenu:m,isShowSecondMenu:v,isShowThirdMenu:f,thirdCenter:w,firstMenuClick:y,secondMenuClick:e,selectClick:s,refreshStatus:l,initMenu:i,menuLevel1:o,menuLevel2:c,menuLevel3:g,menuLevel1List:t,menuLevel2List:b,menuLevel3List:k}=wn(),{createMenuTypeList:N,createQuestionList:S,questionStrList:T}=Mn(),M=p(!1),$=p(!1);let B=N("column");console.log("🚀十二种随机菜单:",B);let V=9;async function O({num:I=5,questionType:q="type1",questionNumber:H=1}){m.value=!0,v.value=!1,f.value=!1,await i(I),console.log("菜单初始化成功"),S({level1List:t.value,level2List:b.value,level3List:k.value,questionType:q,questionNumber:H}),M.value=!0}let A="type1",ne="column";function De(I="column"){B=N(I)}function Te(I="type1",q="row",H=4){A=I,ne=q,V=10,De(ne),me()}function de({globDirection:I,type:q}){h.push({name:"menu-test",params:{globDirection:I??u.params.globDirection,type:q??u.params.type}})}ie([()=>u.params.globDirection,()=>u.params.type],(I,q)=>{console.log(I,q);const{globDirection:H,type:J}=u.params;Te(J,H)},{immediate:!0});function me(){if(V===B.length-1){if(A==="type1"){de({type:"type2"});return}if(ne==="column"&&A==="type2"){qe();return}else{de({globDirection:"column"});return}}M.value=!1;const{num:I,isFirstShow:q,globDirection:H,thirdDirection:J,id:C}=B[V];r.value=H==="column",a.value=q,_.value=J==="column",console.log("🚀 ~ file: menu.vue:144 ~ refreshMenu ~ num:",I),O({num:I,questionNumber:1}),console.log("🚀 ~ file: menu.vue:147 ~ refreshMenu ~ menuTypeIndex:",V),V++}function qe(){console.log("实验结束"),M.value=!1,$.value=!0}return(I,q)=>{const H=Ue("Operation"),J=He;return L(),E(U,null,[M.value?(L(),E("div",{key:0,class:x(["flex h-full w-full",n(r)?"flex-col":"flex-row"])},[Q(F(J,{color:"#FFF",class:"no-inherit",onClick:q[0]||(q[0]=C=>m.value=!n(m))},{default:R(()=>[F(H)]),_:1},512),[[W,n(a)]]),F(oe,{name:"fade"},{default:R(()=>[Q(D("div",{class:x(["bg-[#324868] flex gap-1 text-white border-solid border-[#e4e4e4]",n(r)?"flex-row justify-center border-b":"flex-col border-r"])},[(L(!0),E(U,null,Z(n(o),C=>(L(),E("div",{key:C.menuId,onClick:K=>n(y)(C),class:"w-32 font-bold min-w-max rounded-sm py-2 px-2"},z(C.menuName),9,xn))),128))],2),[[W,n(m)]])]),_:1}),F(oe,{name:"fade"},{default:R(()=>[Q(D("div",{class:x(["bg-[#e2e0df] flex gap-1 text-black border-solid border-[#e4e4e4]",n(r)?"flex-row justify-center border-b":"flex-col border-r"])},[(L(!0),E(U,null,Z(n(c),C=>(L(),E("div",{key:C.menuId,onClick:K=>n(e)(C),class:"w-32 font-bold min-w-max rounded-sm py-2 px-2"},z(C.menuName),9,In))),128))],2),[[W,n(v)]])]),_:1}),F(oe,{name:"fade"},{default:R(()=>[Q(D("div",{class:x(["flex-1 bg-[#ffffff] flex gap-1 text-black overflow-auto",n(w)])},[(L(!0),E(U,null,Z(n(g),C=>(L(),E("div",{key:C.menuId,class:x(["flex items-center gap-1",n(_)?"flex-col":"flex-row"])},[D("span",Cn,z(C.menuName),1),D("div",{class:x(["flex gap-1",n(_)?"flex-col":"flex-row"])},[(L(!0),E(U,null,Z(C.children,K=>(L(),E("div",{key:K.menuId,onClick:Tn=>n(s)(K),class:"w-32 min-w-max rounded-sm py-2 px-2"},z(K.menuName),9,En))),128))],2)],2))),128))],2),[[W,n(f)]])]),_:1})],2)):te("",!0),M.value?(L(),Y(Ln,{key:1,questionStrList:n(T),onRefreshMenu:me},null,8,["questionStrList"])):te("",!0),$.value?(L(),Y(Sn,{key:2})):te("",!0)],64)}}});const Qn=Ye(Dn,[["__scopeId","data-v-bdfe9001"]]);export{Qn as default};
