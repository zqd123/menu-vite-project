import{i as j,d as R,z as L,r as u,A as J,B as re,o as s,l as g,m as E,q as n,C as y,D as de,E as V,w as N,G as F,H as B,I as P,e as A,J as ve,K as le,s as me,n as fe,L as oe,M as pe,g as ie,T as q,F as U,b as W,v as Q,p as O}from"./index-0e113cc2.js";import{c as he,d as K,e as X,f as z,h as Ce,j as be,k as ge,l as we,m as ye,n as ke,o as Ie,b as G,_ as Se,p as Te,w as _e}from"./el-button-6963cfce.js";import{i as Me,E as Ve}from"./el-overlay-b8143394.js";import"./el-input-b1d12e3c.js";import{a as xe}from"./axios-e164320c.js";import{U as Z,C as ee,I as ne,d as Le,t as Be}from"./typescript-e2e71512.js";import{_ as Ee}from"./plugin-vueexport-helper-c27b6911.js";const Ne=he({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:Me},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:z},activeActionIcon:{type:z},activeIcon:{type:z},inactiveIcon:{type:z},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Ce(Function)},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1},label:{type:String,default:void 0}}),De={[Z]:c=>K(c)||j(c)||X(c),[ee]:c=>K(c)||j(c)||X(c),[ne]:c=>K(c)||j(c)||X(c)},Ae=["onClick"],Pe=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],$e=["aria-hidden"],Ge=["aria-hidden"],Fe=["aria-hidden"],te="ElSwitch",Ue=R({name:te}),He=R({...Ue,props:Ne,emits:De,setup(c,{expose:S,emit:I}){const a=c,w=pe(),{formItem:v}=be(),f=ge(),o=we("switch");(e=>{e.forEach(h=>{Te({from:h[0],replacement:h[1],scope:te,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},L(()=>{var H;return!!((H=w.vnode.props)!=null&&H[h[2]])}))})})([['"value"','"model-value" or "v-model"',"value"],['"active-color"',"CSS var `--el-switch-on-color`","activeColor"],['"inactive-color"',"CSS var `--el-switch-off-color`","inactiveColor"],['"border-color"',"CSS var `--el-switch-border-color`","borderColor"]]);const{inputId:_}=ye(a,{formItemContext:v}),k=ke(L(()=>a.loading)),t=u(a.modelValue!==!1),l=u(),r=u(),i=L(()=>[o.b(),o.m(f.value),o.is("disabled",k.value),o.is("checked",p.value)]),m=L(()=>[o.e("label"),o.em("label","left"),o.is("active",!p.value)]),b=L(()=>[o.e("label"),o.em("label","right"),o.is("active",p.value)]),D=L(()=>({width:Ie(a.width)}));J(()=>a.modelValue,()=>{t.value=!0}),J(()=>a.value,()=>{t.value=!1});const $=L(()=>t.value?a.modelValue:a.value),p=L(()=>$.value===a.activeValue);[a.activeValue,a.inactiveValue].includes($.value)||(I(Z,a.inactiveValue),I(ee,a.inactiveValue),I(ne,a.inactiveValue)),J(p,e=>{var h;l.value.checked=e,a.validateEvent&&((h=v==null?void 0:v.validate)==null||h.call(v,"change").catch(H=>Le()))});const M=()=>{const e=p.value?a.inactiveValue:a.activeValue;I(Z,e),I(ee,e),I(ne,e),fe(()=>{l.value.checked=p.value})},d=()=>{if(k.value)return;const{beforeChange:e}=a;if(!e){M();return}const h=e();[oe(h),K(h)].includes(!0)||Be(te,"beforeChange must return type `Promise<boolean>` or `boolean`"),oe(h)?h.then(ae=>{ae&&M()}).catch(ae=>{}):h&&M()},C=L(()=>o.cssVarBlock({...a.activeColor?{"on-color":a.activeColor}:null,...a.inactiveColor?{"off-color":a.inactiveColor}:null,...a.borderColor?{"border-color":a.borderColor}:null})),x=()=>{var e,h;(h=(e=l.value)==null?void 0:e.focus)==null||h.call(e)};return re(()=>{l.value.checked=p.value}),S({focus:x,checked:p}),(e,h)=>(s(),g("div",{class:y(n(i)),style:le(n(C)),onClick:me(d,["prevent"])},[E("input",{id:n(_),ref_key:"input",ref:l,class:y(n(o).e("input")),type:"checkbox",role:"switch","aria-checked":n(p),"aria-disabled":n(k),"aria-label":e.label,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:n(k),tabindex:e.tabindex,onChange:M,onKeydown:de(d,["enter"])},null,42,Pe),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(s(),g("span",{key:0,class:y(n(m))},[e.inactiveIcon?(s(),V(n(G),{key:0},{default:N(()=>[(s(),V(F(e.inactiveIcon)))]),_:1})):B("v-if",!0),!e.inactiveIcon&&e.inactiveText?(s(),g("span",{key:1,"aria-hidden":n(p)},P(e.inactiveText),9,$e)):B("v-if",!0)],2)):B("v-if",!0),E("span",{ref_key:"core",ref:r,class:y(n(o).e("core")),style:le(n(D))},[e.inlinePrompt?(s(),g("div",{key:0,class:y(n(o).e("inner"))},[e.activeIcon||e.inactiveIcon?(s(),V(n(G),{key:0,class:y(n(o).is("icon"))},{default:N(()=>[(s(),V(F(n(p)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(s(),g("span",{key:1,class:y(n(o).is("text")),"aria-hidden":!n(p)},P(n(p)?e.activeText:e.inactiveText),11,Ge)):B("v-if",!0)],2)):B("v-if",!0),E("div",{class:y(n(o).e("action"))},[e.loading?(s(),V(n(G),{key:0,class:y(n(o).is("loading"))},{default:N(()=>[A(n(ve))]),_:1},8,["class"])):e.activeActionIcon&&n(p)?(s(),V(n(G),{key:1},{default:N(()=>[(s(),V(F(e.activeActionIcon)))]),_:1})):e.inactiveActionIcon&&!n(p)?(s(),V(n(G),{key:2},{default:N(()=>[(s(),V(F(e.inactiveActionIcon)))]),_:1})):B("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(s(),g("span",{key:1,class:y(n(b))},[e.activeIcon?(s(),V(n(G),{key:0},{default:N(()=>[(s(),V(F(e.activeIcon)))]),_:1})):B("v-if",!0),!e.activeIcon&&e.activeText?(s(),g("span",{key:1,"aria-hidden":!n(p)},P(e.activeText),9,Fe)):B("v-if",!0)],2)):B("v-if",!0)],14,Ae))}});var Oe=Se(He,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const ze=_e(Oe);function ce(){const c=u([]),S=u([]);async function I(){const{data:t}=await xe.get("/src/views/menu/stringData.txt");return t.split(/\n/).filter(r=>r.trim()!=="")}async function a(){return(await I()).map((l,r)=>({menuName:l,menuId:l+(r+1)}))}function w(t,l=5,{onlySingle:r}={}){t=JSON.parse(JSON.stringify(t));const i=[];for(;l>0;){if(t.length<=0)throw new Error("菜单剩余不足,取不到了");const m=Math.floor(Math.random()*t.length);i.find(b=>b.menuId===t[m].menuId)?l++:(i.push(t[m]),t=t.filter(b=>b.menuId!==t[m].menuId),l--)}return r&&f(t,i),i}function v(t,l){return t.reduce((r,i)=>(l.find(m=>m.menuId===i.menuId)||r.push(i),r),[])}function f(t,l){S.value=v(t,l)}const o=u([]);function T(t){const l=w(c.value,t);console.log("🚀 ~ file: useProcessDataHook.js:83 ~ initMenu ~ menuLevel1:",l),o.value=_(l,t)}function _(t,l){return t.map(r=>(r.children=w(c.value,l).map(i=>(i.parentId=r.menuId,i)),r.children.map(i=>{i.children=w(c.value,l).map(m=>(m.parentId=i.menuId,m))}),r)),t}function k(t,{parentList:l,onlySingle:r}={}){return l?l.reduce((i,m)=>{const b=w(S.value,t,{onlySingle:r}).map(D=>(D.parentId=m.menuId,D));return i.concat(b)},[]):w(S.value,t,{onlySingle:r})}return{allMenu:c,remainMenu:S,mapData:a,getRandomData:w,changeRemainMenu:f,menuTree:o,initMenu:T,createLevelDataList:k}}const{allMenu:se,remainMenu:ue,mapData:Ke,getRandomData:Re,changeRemainMenu:un,menuTree:rn,initMenu:cn,createLevelDataList:Y}=ce();function je(){const c=u([]),S=u([]),I=u([]),a=u(!1),w=u(!1),v=u(!1),f=u(!0),o=u(!1),T=u(!1),_=u([]),k=u([]),t=u([]),l=u([]),r=u([]),i=u([]);async function m(C=5,x=!1){se.value=await Ke(),ue.value=se.value,_.value=Y(C),l.value=_.value,k.value=Y(C,{parentList:_.value,onlySingle:x}),console.log("🚀 ~ file: menuHook.ts:46 ~ initMenu ~ menuLevel2List.value:",k.value);const e=Y(C,{parentList:k.value,onlySingle:x});t.value=e.map(h=>(h.children=Re(ue.value,C),h)),console.log("🚀 ~ file: menuHook.ts:51 ~ initMenu ~ menuLevel3List.value:",t.value)}const b=L(()=>v.value?`flex-row ${w.value?"justify-center ":"justify-start"}`:`flex-col ${w.value?"items-center  pl-36":"items-start"}`),D=new Date,$=C=>{console.log("一级菜单点击"),a.value&&(f.value=!1),o.value=!0,T.value=!1,r.value=k.value.filter(x=>x.parentId===C.menuId)},p=C=>{a.value&&(f.value=!1,o.value=!1),T.value=!0,i.value=t.value.filter(x=>x.parentId===C.menuId),console.log("🚀 ~ file: menuHook.ts:90 ~ secondMenuClick ~ menuLevel3.value:",i.value)},M=C=>{console.log("选中:",C);const e=(new Date().getTime()-D.getTime())/1e3;Ve.alert(`用时: ${e}秒`,"提示",{confirmButtonText:"确定",callback:()=>{d()}})},d=()=>{f.value=!0,o.value=!1,T.value=!1};return{menu2Arr:c,menu3Arr:S,menu3ChildArr:I,isHide:a,isGlobalColumn:w,isThirdColumn:v,isShowFirstMenu:f,isShowSecondMenu:o,isShowThirdMenu:T,thirdCenter:b,firstMenuClick:$,secondMenuClick:p,selectClick:M,refreshStatus:d,initMenu:m,menuLevel1:l,menuLevel2:r,menuLevel3:i}}const Je={class:"flex !absolute right-0 top-0"},qe=R({__name:"OperateBars",props:{isGlobalColumn:{type:Boolean,default:!1},isThirdColumn:{type:Boolean,default:!1}},emits:["update:isGlobalColumn","update:isThirdColumn"],setup(c,{emit:S}){const I=S,a=c,w=u(!1),v=u(a.isGlobalColumn),f=u(!1),o=u(!0),T=u(!1),_=u(!1);function k(){I("update:isGlobalColumn",v.value)}function t(){I("update:isThirdColumn",f.value)}const l=()=>{o.value=!0,T.value=!1,_.value=!1};return(r,i)=>{const m=ze;return s(),g("div",Je,[A(m,{modelValue:w.value,"onUpdate:modelValue":i[0]||(i[0]=b=>w.value=b),onChange:l,"inline-prompt":"","active-text":"隐藏","inactive-text":"展示"},null,8,["modelValue"]),A(m,{modelValue:f.value,"onUpdate:modelValue":i[1]||(i[1]=b=>f.value=b),onChange:t,"inline-prompt":"","active-text":"三级横向","inactive-text":"三级竖向"},null,8,["modelValue"]),A(m,{modelValue:v.value,"onUpdate:modelValue":i[2]||(i[2]=b=>v.value=b),onChange:k,"inline-prompt":"","active-text":"横向","inactive-text":"竖向"},null,8,["modelValue"])])}}}),We=["onClick"],Qe=["onClick"],Xe={class:"font-bold w-32 rounded-sm py-1 px-2"},Ye=["onClick"],Ze=R({__name:"menu",setup(c){ce();const{menu2Arr:S,menu3Arr:I,menu3ChildArr:a,isHide:w,isGlobalColumn:v,isThirdColumn:f,isShowFirstMenu:o,isShowSecondMenu:T,isShowThirdMenu:_,thirdCenter:k,firstMenuClick:t,secondMenuClick:l,selectClick:r,refreshStatus:i,initMenu:m,menuLevel1:b,menuLevel2:D,menuLevel3:$}=je();return re(()=>{m(9,!0)}),(p,M)=>(s(),g(U,null,[A(qe,{isGlobalColumn:n(v),"onUpdate:isGlobalColumn":M[0]||(M[0]=d=>ie(v)?v.value=d:null),isThirdColumn:n(f),"onUpdate:isThirdColumn":M[1]||(M[1]=d=>ie(f)?f.value=d:null)},null,8,["isGlobalColumn","isThirdColumn"]),E("div",{class:y(["flex h-full w-full",n(v)?"flex-col":"flex-row"])},[A(q,{name:"fade"},{default:N(()=>[W(E("div",{class:y(["bg-gradient-to-b from-blue-900 to-blue-800 flex gap-4 p-4 text-white",n(v)?"flex-row justify-center":"flex-col"])},[(s(!0),g(U,null,O(n(b),d=>(s(),g("div",{key:d.menuId,onClick:C=>n(t)(d),class:"w-32 font-bold min-w-max rounded-sm py-1 px-2"},P(d.menuName),9,We))),128))],2),[[Q,n(o)]])]),_:1}),A(q,{name:"fade"},{default:N(()=>[W(E("div",{class:y(["bg-blue-300 flex gap-4 p-4 text-black",n(v)?"flex-row justify-center":"flex-col"])},[(s(!0),g(U,null,O(n(D),d=>(s(),g("div",{key:d.menuId,onClick:C=>n(l)(d),class:"w-32 font-bold min-w-max rounded-sm py-1 px-2"},P(d.menuName),9,Qe))),128))],2),[[Q,n(T)]])]),_:1}),A(q,{name:"fade"},{default:N(()=>[W(E("div",{class:y(["flex-1 bg-gray-300 flex gap-4 p-4 text-black",n(k)])},[(s(!0),g(U,null,O(n($),d=>(s(),g("div",{key:d.menuId,class:y(["flex items-center gap-4",n(f)?"flex-col":"flex-row"])},[E("span",Xe,P(d.menuName),1),E("div",{class:y(["flex gap-4",n(f)?"flex-col":"flex-row"])},[(s(!0),g(U,null,O(d.children,C=>(s(),g("div",{key:C.menuId,onClick:x=>n(r)(C),class:"w-32 min-w-max rounded-sm py-1 px-2"},P(C.menuName),9,Ye))),128))],2)],2))),128))],2),[[Q,n(_)]])]),_:1})],2)],64))}});const dn=Ee(Ze,[["__scopeId","data-v-9b1e84e9"]]);export{dn as default};
