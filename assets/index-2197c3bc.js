import{c as ye,d as le,p as R,q as te,f as we,s as Ce,t as Ie,h as ke,k as Se,n as Ee,b as re,_ as qe,v as se,w as je,E as Te}from"./el-button-dd980a67.js";import{E as $e}from"./el-dialog-cb362e85.js";import"./el-overlay-30e83c47.js";import{E as Ne,a as De}from"./el-form-item-02e3c782.js";import{E as U,a as He}from"./axios-e3130426.js";import{E as Ue}from"./el-message-1015e2ed.js";import{E as de}from"./el-message-box-9e5dacd5.js";import"./el-input-2a26abb1.js";import{O as B,P as Be,d as N,z as ie,r as I,A as V,Q as z,f as ne,R as L,i as ue,J as Fe,o as h,l as w,F as A,p as pe,C as q,q as i,e as t,w as _,b as ce,K as F,S as M,v as me,M as P,G as K,E as Me,L as _e,u as Ae,a as Q,x as Oe,m as j,y as Re}from"./index-f5bc4975.js";import{m as fe}from"./typescript-000c5ab0.js";import{C as ze,U as O}from"./event-0e1210c4.js";const Le=ye({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:R([Array,Object]),default:()=>fe(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:R([Array,Object]),default:()=>[B,B,B]},voidIcon:{type:te,default:()=>Be},disabledVoidIcon:{type:te,default:()=>B},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:R(Array),default:()=>fe(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:we,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),Pe={[ze]:p=>le(p),[O]:p=>le(p)},Ke=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],Qe=["onMousemove","onClick"],We=N({name:"ElRate"}),Ge=N({...We,props:Le,emits:Pe,setup(p,{expose:b,emit:f}){const e=p;function v(o,n){const c=y=>ne(y),C=Object.keys(n).map(y=>+y).filter(y=>{const H=n[y];return(c(H)?H.excluded:!1)?o<y:o<=y}).sort((y,H)=>y-H),$=n[C[0]];return c($)&&$.value||$}const x=ie(Ce,void 0),a=ie(Ie,void 0),k=ke(),g=Se("rate"),{inputId:S,isLabeledByFormItem:E}=Ee(e,{formItemContext:a}),m=I(e.modelValue),d=I(-1),l=I(!0),u=V(()=>[g.b(),g.m(k.value)]),r=V(()=>e.disabled||(x==null?void 0:x.disabled)),T=V(()=>g.cssVarBlock({"void-color":e.voidColor,"disabled-void-color":e.disabledVoidColor,"fill-color":J.value})),D=V(()=>{let o="";return e.showScore?o=e.scoreTemplate.replace(/\{\s*value\s*\}/,r.value?`${e.modelValue}`:`${m.value}`):e.showText&&(o=e.texts[Math.ceil(m.value)-1]),o}),s=V(()=>e.modelValue*100-Math.floor(e.modelValue)*100),ve=V(()=>z(e.colors)?{[e.lowThreshold]:e.colors[0],[e.highThreshold]:{value:e.colors[1],excluded:!0},[e.max]:e.colors[2]}:e.colors),J=V(()=>{const o=v(m.value,ve.value);return ne(o)?"":o}),ge=V(()=>{let o="";return r.value?o=`${s.value}%`:e.allowHalf&&(o="50%"),{color:J.value,width:o}}),X=V(()=>{let o=z(e.icons)?[...e.icons]:{...e.icons};return o=L(o),z(o)?{[e.lowThreshold]:o[0],[e.highThreshold]:{value:o[1],excluded:!0},[e.max]:o[2]}:o}),xe=V(()=>v(e.modelValue,X.value)),Z=V(()=>r.value?ue(e.disabledVoidIcon)?e.disabledVoidIcon:L(e.disabledVoidIcon):ue(e.voidIcon)?e.voidIcon:L(e.voidIcon)),he=V(()=>v(m.value,X.value));function Y(o){const n=r.value&&s.value>0&&o-1<e.modelValue&&o>e.modelValue,c=e.allowHalf&&l.value&&o-.5<=m.value&&o>m.value;return n||c}function ee(o){e.clearable&&o===e.modelValue&&(o=0),f(O,o),e.modelValue!==o&&f("change",o)}function Ve(o){r.value||(e.allowHalf&&l.value?ee(m.value):ee(o))}function be(o){if(r.value)return;let n=m.value;const c=o.code;return c===U.up||c===U.right?(e.allowHalf?n+=.5:n+=1,o.stopPropagation(),o.preventDefault()):(c===U.left||c===U.down)&&(e.allowHalf?n-=.5:n-=1,o.stopPropagation(),o.preventDefault()),n=n<0?0:n,n=n>e.max?e.max:n,f(O,n),f("change",n),n}function oe(o,n){if(!r.value){if(e.allowHalf&&n){let c=n.target;se(c,g.e("item"))&&(c=c.querySelector(`.${g.e("icon")}`)),(c.clientWidth===0||se(c,g.e("decimal")))&&(c=c.parentNode),l.value=n.offsetX*2<=c.clientWidth,m.value=l.value?o-.5:o}else m.value=o;d.value=o}}function ae(){r.value||(e.allowHalf&&(l.value=e.modelValue!==Math.floor(e.modelValue)),m.value=e.modelValue,d.value=-1)}return Fe(()=>e.modelValue,o=>{m.value=o,l.value=e.modelValue!==Math.floor(e.modelValue)}),e.modelValue||f(O,0),b({setCurrentValue:oe,resetCurrentValue:ae}),(o,n)=>{var c;return h(),w("div",{id:i(S),class:q([i(u),i(g).is("disabled",i(r))]),role:"slider","aria-label":i(E)?void 0:o.label||"rating","aria-labelledby":i(E)?(c=i(a))==null?void 0:c.labelId:void 0,"aria-valuenow":m.value,"aria-valuetext":i(D)||void 0,"aria-valuemin":"0","aria-valuemax":o.max,tabindex:"0",style:K(i(T)),onKeydown:be},[(h(!0),w(A,null,pe(o.max,(C,$)=>(h(),w("span",{key:$,class:q(i(g).e("item")),onMousemove:y=>oe(C,y),onMouseleave:ae,onClick:y=>Ve(C)},[t(i(re),{class:q([i(g).e("icon"),{hover:d.value===C},i(g).is("active",C<=m.value)])},{default:_(()=>[Y(C)?P("v-if",!0):(h(),w(A,{key:0},[ce((h(),F(M(i(he)),null,null,512)),[[me,C<=m.value]]),ce((h(),F(M(i(Z)),null,null,512)),[[me,!(C<=m.value)]])],64)),Y(C)?(h(),w(A,{key:1},[(h(),F(M(i(Z)),{class:q([i(g).em("decimal","box")])},null,8,["class"])),t(i(re),{style:K(i(ge)),class:q([i(g).e("icon"),i(g).e("decimal")])},{default:_(()=>[(h(),F(M(i(xe))))]),_:1},8,["style","class"])],64)):P("v-if",!0)]),_:2},1032,["class"])],42,Qe))),128)),o.showText||o.showScore?(h(),w("span",{key:0,class:q(i(g).e("text")),style:K({color:o.textColor})},Me(i(D)),7)):P("v-if",!0)],46,Ke)}}});var Je=qe(Ge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const Xe=je(Je);const Ze={class:"flex flex-col justify-start items-start"},Ye=j("div",{class:"flex justify-start font-bold"}," 问题一：感知选择过载7分量表 最轻负荷1分—最重负荷7分 ",-1),eo=j("div",{class:"flex justify-start font-bold"}," 问题二：决策信心7分量表 最无信心1分—最有信心7分 ",-1),oo=N({__name:"Question",props:{secondCount:{}},emits:["ok"],setup(p,{emit:b}){const f=b;_e();const e=p,v=Ae(),x=I(),a=Q({radio1_1:void 0,radio1_2:void 0,radio1_3:void 0,radio1_4:void 0,radio1_5:void 0,radio1_6:void 0,radio1_7:void 0,radio2_1:void 0,radio2_2:void 0,radio2_3:void 0,radio2_4:void 0,radio2_5:void 0}),k=Q({radio1_1:[{required:!0,message:"请选择",trigger:"change"}],radio1_2:[{required:!0,message:"请选择",trigger:"change"}],radio1_3:[{required:!0,message:"请选择",trigger:"change"}],radio1_4:[{required:!0,message:"请选择",trigger:"change"}],radio1_5:[{required:!0,message:"请选择",trigger:"change"}],radio1_6:[{required:!0,message:"请选择",trigger:"change"}],radio1_7:[{required:!0,message:"请选择",trigger:"change"}],radio2_1:[{required:!0,message:"请选择",trigger:"change"}],radio2_2:[{required:!0,message:"请选择",trigger:"change"}],radio2_3:[{required:!0,message:"请选择",trigger:"change"}],radio2_4:[{required:!0,message:"请选择",trigger:"change"}],radio2_5:[{required:!0,message:"请选择",trigger:"change"}]}),g=async d=>{d&&await d.validate((l,u)=>{if(l){for(const[r,T]of Object.entries(a))if(!T){Ue.error("请为每一项做出选择！");return}v.radiosData={name:sessionStorage.getItem("userName")??"",radio1_1:a.radio1_1,radio1_2:a.radio1_2,radio1_3:a.radio1_3,radio1_4:a.radio1_4,radio1_5:a.radio1_5,radio1_6:a.radio1_6,radio1_7:a.radio1_7,radio2_1:a.radio2_1,radio2_2:a.radio2_2,radio2_3:a.radio2_3,radio2_4:a.radio2_4,radio2_5:a.radio2_5,secondCount:e.secondCount},m()}else console.log("error submit!",u)})},S=I(!1),E=I([]);console.log(E.value);const m=()=>{const d=v.radiosData;E.value.push({name:d.name,question1:[d.radio1_1,d.radio1_2,d.radio1_3,d.radio1_4,d.radio1_5,d.radio1_6,d.radio1_7].join(","),question2:[d.radio2_1,d.radio2_2,d.radio2_3,d.radio2_4,d.radio2_5].join(","),secondCount:d.secondCount});const l=E.value[0];S.value=!0,He.post("https://zhangqd.mynatapp.cc/add_user",{...l}).then(u=>{S.value=!1,de.alert(u.data.data.message??"保存成功","提示",{confirmButtonText:"确定",callback:()=>{v.checkQuestion=[],f("ok")}})}).catch(u=>{S.value=!1,de.alert("保存失败","提示",{confirmButtonText:"确定"})})};return(d,l)=>{const u=Xe,r=Ne,T=Te,D=De;return h(),w("div",Ze,[t(D,{ref_key:"ruleFormRef",ref:x,model:a,rules:k,"status-icon":"","label-position":"right"},{default:_(()=>[Ye,t(r,{label:"1.“有太多不同的选择需要考虑”",prop:"radio1_1"},{default:_(()=>[t(u,{modelValue:a.radio1_1,"onUpdate:modelValue":l[0]||(l[0]=s=>a.radio1_1=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"2.“这个决定需要大量的思考”",prop:"radio1_2"},{default:_(()=>[t(u,{modelValue:a.radio1_2,"onUpdate:modelValue":l[1]||(l[1]=s=>a.radio1_2=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"3.“这是一个艰难的决定”",prop:"radio1_3"},{default:_(()=>[t(u,{modelValue:a.radio1_3,"onUpdate:modelValue":l[2]||(l[2]=s=>a.radio1_3=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"4.“我发现这个决定太难了”",prop:"radio1_4"},{default:_(()=>[t(u,{modelValue:a.radio1_4,"onUpdate:modelValue":l[3]||(l[3]=s=>a.radio1_4=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"5.“我很难理解所有可用的信息”",prop:"radio1_5"},{default:_(()=>[t(u,{modelValue:a.radio1_5,"onUpdate:modelValue":l[4]||(l[4]=s=>a.radio1_5=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"6.“任务很有压力”",prop:"radio1_6"},{default:_(()=>[t(u,{modelValue:a.radio1_6,"onUpdate:modelValue":l[5]||(l[5]=s=>a.radio1_6=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"7.“做出决定让我松了一口气”",prop:"radio1_7","show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},{default:_(()=>[t(u,{modelValue:a.radio1_7,"onUpdate:modelValue":l[6]||(l[6]=s=>a.radio1_7=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),eo,t(r,{label:"1.“我100%相信我的选择在客观上比课程网站上的其他选择好”",prop:"radio2_1"},{default:_(()=>[t(u,{modelValue:a.radio2_1,"onUpdate:modelValue":l[7]||(l[7]=s=>a.radio2_1=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"],clearable:""},null,8,["modelValue"])]),_:1}),t(r,{label:"2.“我不确定我的选择是否客观上比其他选择好”",prop:"radio2_2"},{default:_(()=>[t(u,{modelValue:a.radio2_2,"onUpdate:modelValue":l[8]||(l[8]=s=>a.radio2_2=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"3.“我确信我的选择是我能做出的最好的选择”",prop:"radio2_3"},{default:_(()=>[t(u,{modelValue:a.radio2_3,"onUpdate:modelValue":l[9]||(l[9]=s=>a.radio2_3=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"4.“不管我个人对我的选择有什么个人感受，很明显我的选择在客观上优于网站上的其他课程选择”",prop:"radio2_4"},{default:_(()=>[t(u,{modelValue:a.radio2_4,"onUpdate:modelValue":l[10]||(l[10]=s=>a.radio2_4=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,{label:"5.“即使我的朋友可能不同意，我的选择也是最好的选择”",prop:"radio2_5"},{default:_(()=>[t(u,{modelValue:a.radio2_5,"onUpdate:modelValue":l[11]||(l[11]=s=>a.radio2_5=s),max:7,"show-text":"",texts:["1分","2分","3分","4分","5分","6分","7分"]},null,8,["modelValue"])]),_:1}),t(r,null,{default:_(()=>[t(T,{type:"primary",loading:S.value,onClick:l[12]||(l[12]=s=>g(x.value))},{default:_(()=>[Oe(" 保 存 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])}}}),ao={class:"relative"},lo=j("div",{class:"mb-4"},[j("div",null,"请点击您认为性价比最高的课程，并回答问题。")],-1),to={class:"flex flex-wrap justify-center gap-2"},ro=["src"],so=N({__name:"InformationSelect",props:{testItem:{},second:{default:"8"}},emits:["checkClickHandle"],setup(p,{emit:b}){const f=b,e=p;let v=0;const x=I(0),a=I(!1),k=V(()=>Number(e.second)-x.value);(()=>{x.value=Number(i(e.second)),v=window.setInterval(()=>{x.value--,x.value===0&&(clearInterval(v),a.value=!0)},1e3)})();const S=d=>new URL(Object.assign({})[`../../assets/seconde-test/${d}`],self.location).href,E=()=>{clearInterval(v),a.value=!0},m=()=>{a.value=!1,f("checkClickHandle")};return(d,l)=>{const u=$e;return h(),w("div",ao,[lo,j("div",to,[(h(!0),w(A,null,pe(d.testItem.children,r=>(h(),w("div",{key:r.url,class:q(["w-60 h-60 bg-white flex justify-center items-center overflow-hidden",r.selectedColor]),onClick:E},[j("img",{class:"w-auto h-auto max-h-full max-w-full",src:S(r.url+".jpg")},null,8,ro)],2))),128))]),t(u,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value=r),width:"60%","align-center":!0,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!0,"destroy-on-close":""},{default:_(()=>[t(oo,{"second-count":k.value,onOk:m},null,8,["second-count"])]),_:1},8,["modelValue"])])}}}),G=({type:p="small",sum:b=4}={})=>{const f=[];for(let e=1;e<=3;e++){const v={url:`${p}${e}`},x=[];for(let a=1;a<=b;a++){const k={url:`${p}${e}_${a}`};x.push(k)}v.children=x,f.push(v)}return console.log("🚀 ~ file: allImage.ts:25 ~ createImage ~ testArr:",f),f},io=G({type:"small"}),no=G({type:"medium",sum:8}),uo=G({type:"large",sum:16});var W=(p=>(p.small="small",p.medium="medium",p.large="large",p))(W||{});const wo=N({__name:"index",setup(p){const b=_e(),f=Q({type:b.query.customType??"small",index:b.query.customIndex??"3",second:b.query.customSecond??"8"});console.log("🚀 ~ file: index.vue:11 ~ customQuery ~ customQuery:",f);const e=I(Number(f.index)-3);e.value<0&&(e.value=0);const v=I();v.value=f.type===W.small?io[e.value]:f.type===W.medium?no[e.value]:uo[e.value];const x=()=>{Re.push({path:"/seconde/over",query:b.query})};return(a,k)=>(h(),w("div",null,[t(so,{"test-item":v.value,"test-index":e.value,second:f.second,onCheckClickHandle:x},null,8,["test-item","test-index","second"])]))}});export{wo as default};
