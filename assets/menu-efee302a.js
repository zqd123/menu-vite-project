import{i as G,d as j,z as V,r as s,A as J,B as se,o as i,l as h,m as E,q as t,C as w,D as ue,E as _,w as D,G as H,H as L,I as A,e as N,J as ce,K as le,s as de,n as ve,L as oe,M as fe,T as q,F as O,b as W,v as Q,p as z}from"./index-9403bc22.js";import{c as me,d as R,e as X,f as K,h as pe,j as he,k as be,l as ge,m as we,n as ye,o as Ce,b as $,_ as ke,p as Ie,w as Se}from"./el-button-e56edc0f.js";import{i as _e,E as Me}from"./el-overlay-297f469b.js";import"./el-input-c7407971.js";import{a as Te}from"./axios-4a028815.js";import{U as Z,C as ee,I as te,d as Ve,t as xe}from"./typescript-7ec4651b.js";import{_ as Le}from"./plugin-vueexport-helper-c27b6911.js";const Ee=me({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:_e},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:K},activeActionIcon:{type:K},activeIcon:{type:K},inactiveIcon:{type:K},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:pe(Function)},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1},label:{type:String,default:void 0}}),De={[Z]:r=>R(r)||G(r)||X(r),[ee]:r=>R(r)||G(r)||X(r),[te]:r=>R(r)||G(r)||X(r)},Ne=["onClick"],Be=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],Ae=["aria-hidden"],Pe=["aria-hidden"],$e=["aria-hidden"],ne="ElSwitch",Fe=j({name:ne}),He=j({...Fe,props:Ee,emits:De,setup(r,{expose:M,emit:k}){const a=r,y=fe(),{formItem:C}=he(),I=be(),o=ge("switch");(e=>{e.forEach(g=>{Ie({from:g[0],replacement:g[1],scope:ne,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},V(()=>{var U;return!!((U=y.vnode.props)!=null&&U[g[2]])}))})})([['"value"','"model-value" or "v-model"',"value"],['"active-color"',"CSS var `--el-switch-on-color`","activeColor"],['"inactive-color"',"CSS var `--el-switch-off-color`","inactiveColor"],['"border-color"',"CSS var `--el-switch-border-color`","borderColor"]]);const{inputId:b}=we(a,{formItemContext:C}),f=ye(V(()=>a.loading)),n=s(a.modelValue!==!1),l=s(),u=s(),c=V(()=>[o.b(),o.m(I.value),o.is("disabled",f.value),o.is("checked",d.value)]),m=V(()=>[o.e("label"),o.em("label","left"),o.is("active",!d.value)]),S=V(()=>[o.e("label"),o.em("label","right"),o.is("active",d.value)]),F=V(()=>({width:Ce(a.width)}));J(()=>a.modelValue,()=>{n.value=!0}),J(()=>a.value,()=>{n.value=!1});const P=V(()=>n.value?a.modelValue:a.value),d=V(()=>P.value===a.activeValue);[a.activeValue,a.inactiveValue].includes(P.value)||(k(Z,a.inactiveValue),k(ee,a.inactiveValue),k(te,a.inactiveValue)),J(d,e=>{var g;l.value.checked=e,a.validateEvent&&((g=C==null?void 0:C.validate)==null||g.call(C,"change").catch(U=>Ve()))});const B=()=>{const e=d.value?a.inactiveValue:a.activeValue;k(Z,e),k(ee,e),k(te,e),ve(()=>{l.value.checked=d.value})},p=()=>{if(f.value)return;const{beforeChange:e}=a;if(!e){B();return}const g=e();[oe(g),R(g)].includes(!0)||xe(ne,"beforeChange must return type `Promise<boolean>` or `boolean`"),oe(g)?g.then(ae=>{ae&&B()}).catch(ae=>{}):g&&B()},v=V(()=>o.cssVarBlock({...a.activeColor?{"on-color":a.activeColor}:null,...a.inactiveColor?{"off-color":a.inactiveColor}:null,...a.borderColor?{"border-color":a.borderColor}:null})),x=()=>{var e,g;(g=(e=l.value)==null?void 0:e.focus)==null||g.call(e)};return se(()=>{l.value.checked=d.value}),M({focus:x,checked:d}),(e,g)=>(i(),h("div",{class:w(t(c)),style:le(t(v)),onClick:de(p,["prevent"])},[E("input",{id:t(b),ref_key:"input",ref:l,class:w(t(o).e("input")),type:"checkbox",role:"switch","aria-checked":t(d),"aria-disabled":t(f),"aria-label":e.label,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:t(f),tabindex:e.tabindex,onChange:B,onKeydown:ue(p,["enter"])},null,42,Be),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(i(),h("span",{key:0,class:w(t(m))},[e.inactiveIcon?(i(),_(t($),{key:0},{default:D(()=>[(i(),_(H(e.inactiveIcon)))]),_:1})):L("v-if",!0),!e.inactiveIcon&&e.inactiveText?(i(),h("span",{key:1,"aria-hidden":t(d)},A(e.inactiveText),9,Ae)):L("v-if",!0)],2)):L("v-if",!0),E("span",{ref_key:"core",ref:u,class:w(t(o).e("core")),style:le(t(F))},[e.inlinePrompt?(i(),h("div",{key:0,class:w(t(o).e("inner"))},[e.activeIcon||e.inactiveIcon?(i(),_(t($),{key:0,class:w(t(o).is("icon"))},{default:D(()=>[(i(),_(H(t(d)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(i(),h("span",{key:1,class:w(t(o).is("text")),"aria-hidden":!t(d)},A(t(d)?e.activeText:e.inactiveText),11,Pe)):L("v-if",!0)],2)):L("v-if",!0),E("div",{class:w(t(o).e("action"))},[e.loading?(i(),_(t($),{key:0,class:w(t(o).is("loading"))},{default:D(()=>[N(t(ce))]),_:1},8,["class"])):e.activeActionIcon&&t(d)?(i(),_(t($),{key:1},{default:D(()=>[(i(),_(H(e.activeActionIcon)))]),_:1})):e.inactiveActionIcon&&!t(d)?(i(),_(t($),{key:2},{default:D(()=>[(i(),_(H(e.inactiveActionIcon)))]),_:1})):L("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(i(),h("span",{key:1,class:w(t(S))},[e.activeIcon?(i(),_(t($),{key:0},{default:D(()=>[(i(),_(H(e.activeIcon)))]),_:1})):L("v-if",!0),!e.activeIcon&&e.activeText?(i(),h("span",{key:1,"aria-hidden":!t(d)},A(e.activeText),9,$e)):L("v-if",!0)],2)):L("v-if",!0)],14,Ne))}});var Oe=ke(He,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Ue=Se(Oe);function re(){const r=s([]),M=s([]);async function k(){const{data:n}=await Te.get("/src/views/menu/stringData.txt");return console.log("🚀 ~ file: useProcessDataHook.ts:28 ~ readFile ~ str:",n),n.split(/\n/).filter(u=>u.trim()!=="")}async function a(){return(await k()).map((l,u)=>({menuName:l,menuId:l+(u+1)}))}function y(n,l=5,{changeRemainMenu:u}={changeRemainMenu:(c,m)=>{}}){n=JSON.parse(JSON.stringify(n));const c=[];for(;l>0;){if(n.length<=0)throw new Error("菜单剩余不足,取不到了");const m=Math.floor(Math.random()*n.length);c.find(S=>S.menuId===n[m].menuId)?l++:(c.push(n[m]),n=n.filter(S=>S.menuId!==n[m].menuId),l--)}return u&&u(n,c),c}function C(n,l){return n.reduce((u,c)=>(l.find(m=>m.menuId===c.menuId)||u.push(c),u),[])}function I(n,l){M.value=C(n,l)}const o=s([]);function T(n){const l=y(r.value,n);console.log("🚀 ~ file: useProcessDataHook.js:83 ~ initMenu ~ menuLevel1:",l),o.value=b(l,n)}s(3);function b(n,l){return n.map(u=>(u.children=y(r.value,l).map(c=>(c.parentId=u.menuId,c)),u.children.map(c=>{c.children=y(r.value,l).map(m=>(m.parentId=c.menuId,m))}),u)),n}function f(n,l={}){return l.parentList?l.parentList.reduce((u,c)=>{const m=y(r.value,n).map(S=>(S.parentId=c.menuId,S));return u.concat(m)},[]):y(r.value,n)}return{allMenu:r,remainMenu:M,mapData:a,getRandomData:y,changeRemainMenu:I,menuTree:o,initMenu:T,createLevelDataList:f}}const{allMenu:ie,remainMenu:ot,mapData:ze,getRandomData:Ke,changeRemainMenu:it,menuTree:st,initMenu:rt,createLevelDataList:Y}=re();function Re(){const r=s([]),M=s([]),k=s([]),a=s(!1),y=s(!1),C=s(!1),I=s(!0),o=s(!1),T=s(!1),b=s([]),f=s([]),n=s([]),l=s([]),u=s([]),c=s([]);async function m(v=5){ie.value=await ze(),b.value=Y(v),l.value=b.value,f.value=Y(v,{parentList:b.value}),console.log("🚀 ~ file: menuHook.ts:46 ~ initMenu ~ menuLevel2List.value:",f.value);const x=Y(v,{parentList:f.value});n.value=x.map(e=>(e.children=Ke(ie.value,v),e)),console.log("🚀 ~ file: menuHook.ts:51 ~ initMenu ~ menuLevel3List.value:",n.value)}const S=V(()=>C.value?`flex-row ${y.value?"justify-center ":"justify-start"}`:`flex-col ${y.value?"items-center  pl-36":"items-start"}`),F=new Date,P=v=>{console.log("一级菜单点击"),a.value&&(I.value=!1),o.value=!0,T.value=!1,u.value=f.value.filter(x=>x.parentId===v.menuId)},d=v=>{a.value&&(I.value=!1,o.value=!1),T.value=!0,c.value=n.value.filter(x=>x.parentId===v.menuId),console.log("🚀 ~ file: menuHook.ts:90 ~ secondMenuClick ~ menuLevel3.value:",c.value)},B=v=>{console.log("选中:",v);const e=(new Date().getTime()-F.getTime())/1e3;Me.alert(`用时: ${e}秒`,"提示",{confirmButtonText:"确定",callback:()=>{p()}})},p=()=>{I.value=!0,o.value=!1,T.value=!1};return{menu2Arr:r,menu3Arr:M,menu3ChildArr:k,isHide:a,isGlobalColumn:y,isThirdColumn:C,isShowFirstMenu:I,isShowSecondMenu:o,isShowThirdMenu:T,thirdCenter:S,firstMenuClick:P,secondMenuClick:d,selectClick:B,refreshStatus:p,initMenu:m,menuLevel1:l,menuLevel2:u,menuLevel3:c}}const je={class:"flex !absolute right-0 top-0"},Ge=j({__name:"OperateBars",setup(r){const M=s(!1),k=s(!1),a=s(!1),y=s(!0),C=s(!1),I=s(!1),o=()=>{y.value=!0,C.value=!1,I.value=!1};return(T,b)=>{const f=Ue;return i(),h("div",je,[N(f,{modelValue:M.value,"onUpdate:modelValue":b[0]||(b[0]=n=>M.value=n),onChange:o,"inline-prompt":"","active-text":"隐藏","inactive-text":"展示"},null,8,["modelValue"]),N(f,{modelValue:a.value,"onUpdate:modelValue":b[1]||(b[1]=n=>a.value=n),"inline-prompt":"","active-text":"三级横向","inactive-text":"三级竖向"},null,8,["modelValue"]),N(f,{modelValue:k.value,"onUpdate:modelValue":b[2]||(b[2]=n=>k.value=n),"inline-prompt":"","active-text":"横向","inactive-text":"竖向"},null,8,["modelValue"])])}}}),Je=["onClick"],qe=["onClick"],We={class:"font-bold w-32 border border-blue-400 rounded-sm py-1 px-2"},Qe=["onClick"],Xe=j({__name:"menu",setup(r){re();const{menu2Arr:M,menu3Arr:k,menu3ChildArr:a,isHide:y,isGlobalColumn:C,isThirdColumn:I,isShowFirstMenu:o,isShowSecondMenu:T,isShowThirdMenu:b,thirdCenter:f,firstMenuClick:n,secondMenuClick:l,selectClick:u,refreshStatus:c,initMenu:m,menuLevel1:S,menuLevel2:F,menuLevel3:P}=Re();return se(()=>{m(5)}),(d,B)=>(i(),h(O,null,[N(Ge),E("div",{class:w(["flex h-full w-full",t(C)?"flex-col":"flex-row"])},[N(q,{name:"fade"},{default:D(()=>[W(E("div",{class:w(["bg-gradient-to-b from-blue-900 to-blue-800 flex gap-4 p-4 text-white",t(C)?"flex-row justify-center":"flex-col"])},[(i(!0),h(O,null,z(t(S),p=>(i(),h("div",{key:p.menuId,onClick:v=>t(n)(p),class:"w-32 font-bold min-w-max border border-blue-400 rounded-sm py-1 px-2"},A(p.menuName),9,Je))),128))],2),[[Q,t(o)]])]),_:1}),N(q,{name:"fade"},{default:D(()=>[W(E("div",{class:w(["bg-blue-300 flex gap-4 p-4 text-black",t(C)?"flex-row justify-center":"flex-col"])},[(i(!0),h(O,null,z(t(F),p=>(i(),h("div",{key:p.menuId,onClick:v=>t(l)(p),class:"w-32 font-bold min-w-max border border-blue-400 rounded-sm py-1 px-2"},A(p.menuName),9,qe))),128))],2),[[Q,t(T)]])]),_:1}),N(q,{name:"fade"},{default:D(()=>[W(E("div",{class:w(["flex-1 bg-gray-300 flex gap-4 p-4 text-black",t(f)])},[(i(!0),h(O,null,z(t(P),p=>(i(),h("div",{key:p.menuId,class:w(["flex items-center gap-4",t(I)?"flex-col":"flex-row"])},[E("span",We,A(p.menuName),1),E("div",{class:w(["flex gap-4",t(I)?"flex-col":"flex-row"])},[(i(!0),h(O,null,z(p.children,v=>(i(),h("div",{key:v.menuId,onClick:x=>t(u)(v),class:"w-32 min-w-max border border-blue-400 rounded-sm py-1 px-2"},A(v.menuName),9,Qe))),128))],2)],2))),128))],2),[[Q,t(b)]])]),_:1})],2)],64))}});const ut=Le(Xe,[["__scopeId","data-v-86e48f8a"]]);export{ut as default};
