import{i as R,d as K,z as x,r as c,A as j,B as re,o as u,l as h,m as L,q as n,C as y,D as de,E as T,w as N,G as H,H as B,I as D,e as E,J as ve,K as le,s as fe,n as me,L as oe,M as pe,N as ie,g as J,T as q,F as $,b as W,v as Q,p as F}from"./index-188853fa.js";import{c as he,d as z,e as X,f as O,h as Ce,j as be,k as ge,l as ye,m as we,n as ke,o as Ie,b as A,_ as Se,p as Te,w as _e}from"./el-button-940c8f12.js";import{i as Me,E as Ve}from"./el-overlay-ff6e7837.js";import"./el-input-1607a7ec.js";import{a as xe}from"./axios-7bad2321.js";import{U as Z,C as ee,I as ne,d as Be,t as Le}from"./typescript-75ae0d46.js";import{_ as Ne}from"./plugin-vueexport-helper-c27b6911.js";const Ee=he({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:Me},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:O},activeActionIcon:{type:O},activeIcon:{type:O},inactiveIcon:{type:O},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Ce(Function)},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1},label:{type:String,default:void 0}}),De={[Z]:r=>z(r)||R(r)||X(r),[ee]:r=>z(r)||R(r)||X(r),[ne]:r=>z(r)||R(r)||X(r)},Pe=["onClick"],Ae=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],He=["aria-hidden"],$e=["aria-hidden"],Ge=["aria-hidden"],te="ElSwitch",Ue=K({name:te}),Fe=K({...Ue,props:Ee,emits:De,setup(r,{expose:C,emit:v}){const a=r,m=pe(),{formItem:p}=be(),w=ge(),i=ye("switch");(e=>{e.forEach(g=>{Te({from:g[0],replacement:g[1],scope:te,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},x(()=>{var U;return!!((U=m.vnode.props)!=null&&U[g[2]])}))})})([['"value"','"model-value" or "v-model"',"value"],['"active-color"',"CSS var `--el-switch-on-color`","activeColor"],['"inactive-color"',"CSS var `--el-switch-off-color`","inactiveColor"],['"border-color"',"CSS var `--el-switch-border-color`","borderColor"]]);const{inputId:M}=we(a,{formItemContext:p}),S=ke(x(()=>a.loading)),t=c(a.modelValue!==!1),l=c(),s=c(),f=x(()=>[i.b(),i.m(w.value),i.is("disabled",S.value),i.is("checked",o.value)]),b=x(()=>[i.e("label"),i.em("label","left"),i.is("active",!o.value)]),V=x(()=>[i.e("label"),i.em("label","right"),i.is("active",o.value)]),k=x(()=>({width:Ie(a.width)}));j(()=>a.modelValue,()=>{t.value=!0}),j(()=>a.value,()=>{t.value=!1});const d=x(()=>t.value?a.modelValue:a.value),o=x(()=>d.value===a.activeValue);[a.activeValue,a.inactiveValue].includes(d.value)||(v(Z,a.inactiveValue),v(ee,a.inactiveValue),v(ne,a.inactiveValue)),j(o,e=>{var g;l.value.checked=e,a.validateEvent&&((g=p==null?void 0:p.validate)==null||g.call(p,"change").catch(U=>Be()))});const I=()=>{const e=o.value?a.inactiveValue:a.activeValue;v(Z,e),v(ee,e),v(ne,e),me(()=>{l.value.checked=o.value})},P=()=>{if(S.value)return;const{beforeChange:e}=a;if(!e){I();return}const g=e();[oe(g),z(g)].includes(!0)||Le(te,"beforeChange must return type `Promise<boolean>` or `boolean`"),oe(g)?g.then(ae=>{ae&&I()}).catch(ae=>{}):g&&I()},G=x(()=>i.cssVarBlock({...a.activeColor?{"on-color":a.activeColor}:null,...a.inactiveColor?{"off-color":a.inactiveColor}:null,...a.borderColor?{"border-color":a.borderColor}:null})),ce=()=>{var e,g;(g=(e=l.value)==null?void 0:e.focus)==null||g.call(e)};return re(()=>{l.value.checked=o.value}),C({focus:ce,checked:o}),(e,g)=>(u(),h("div",{class:y(n(f)),style:le(n(G)),onClick:fe(P,["prevent"])},[L("input",{id:n(M),ref_key:"input",ref:l,class:y(n(i).e("input")),type:"checkbox",role:"switch","aria-checked":n(o),"aria-disabled":n(S),"aria-label":e.label,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:n(S),tabindex:e.tabindex,onChange:I,onKeydown:de(P,["enter"])},null,42,Ae),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(u(),h("span",{key:0,class:y(n(b))},[e.inactiveIcon?(u(),T(n(A),{key:0},{default:N(()=>[(u(),T(H(e.inactiveIcon)))]),_:1})):B("v-if",!0),!e.inactiveIcon&&e.inactiveText?(u(),h("span",{key:1,"aria-hidden":n(o)},D(e.inactiveText),9,He)):B("v-if",!0)],2)):B("v-if",!0),L("span",{ref_key:"core",ref:s,class:y(n(i).e("core")),style:le(n(k))},[e.inlinePrompt?(u(),h("div",{key:0,class:y(n(i).e("inner"))},[e.activeIcon||e.inactiveIcon?(u(),T(n(A),{key:0,class:y(n(i).is("icon"))},{default:N(()=>[(u(),T(H(n(o)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(u(),h("span",{key:1,class:y(n(i).is("text")),"aria-hidden":!n(o)},D(n(o)?e.activeText:e.inactiveText),11,$e)):B("v-if",!0)],2)):B("v-if",!0),L("div",{class:y(n(i).e("action"))},[e.loading?(u(),T(n(A),{key:0,class:y(n(i).is("loading"))},{default:N(()=>[E(n(ve))]),_:1},8,["class"])):e.activeActionIcon&&n(o)?(u(),T(n(A),{key:1},{default:N(()=>[(u(),T(H(e.activeActionIcon)))]),_:1})):e.inactiveActionIcon&&!n(o)?(u(),T(n(A),{key:2},{default:N(()=>[(u(),T(H(e.inactiveActionIcon)))]),_:1})):B("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(u(),h("span",{key:1,class:y(n(V))},[e.activeIcon?(u(),T(n(A),{key:0},{default:N(()=>[(u(),T(H(e.activeIcon)))]),_:1})):B("v-if",!0),!e.activeIcon&&e.activeText?(u(),h("span",{key:1,"aria-hidden":!n(o)},D(e.activeText),9,Ge)):B("v-if",!0)],2)):B("v-if",!0)],14,Pe))}});var Oe=Se(Fe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const ze=_e(Oe);function Ke(){const r=c([]),C=c([]);async function v(){const{data:t}=await xe.get("/src/views/menu/stringData.txt");return t.split(/\n/).filter(s=>s.trim()!=="")}async function a(){return(await v()).map((l,s)=>({menuName:l,menuId:l+(s+1)}))}function m(t,l=5,{onlySingle:s}={}){t=JSON.parse(JSON.stringify(t));const f=[];for(;l>0;){if(t.length<=0)throw new Error("菜单剩余不足,取不到了");const b=Math.floor(Math.random()*t.length);f.find(V=>V.menuId===t[b].menuId)?l++:(f.push(t[b]),t=t.filter(V=>V.menuId!==t[b].menuId),l--)}return s&&w(t,f),f}function p(t,l){return t.reduce((s,f)=>(l.find(b=>b.menuId===f.menuId)||s.push(f),s),[])}function w(t,l){C.value=p(t,l)}const i=c([]);function _(t){const l=m(r.value,t);console.log("🚀 ~ file: useProcessDataHook.js:83 ~ initMenu ~ menuLevel1:",l),i.value=M(l,t)}function M(t,l){return t.map(s=>(s.children=m(r.value,l).map(f=>(f.parentId=s.menuId,f)),s.children.map(f=>{f.children=m(r.value,l).map(b=>(b.parentId=f.menuId,b))}),s)),t}function S(t,{parentList:l,onlySingle:s}={}){return l?l.reduce((f,b)=>{const V=m(C.value,t,{onlySingle:s}).map(k=>(k.parentId=b.menuId,k));return f.concat(V)},[]):m(C.value,t,{onlySingle:s})}return{allMenu:r,remainMenu:C,mapData:a,getRandomData:m,changeRemainMenu:w,menuTree:i,initMenu:_,createLevelDataList:S}}const{allMenu:se,remainMenu:ue,mapData:Re,getRandomData:je,changeRemainMenu:rn,menuTree:cn,initMenu:dn,createLevelDataList:Y}=Ke();function Je(){const r=c(!1),C=c(!1),v=c(!1),a=c(!0),m=c(!1),p=c(!1),w=c([]),i=c([]),_=c([]),M=c([]),S=c([]),t=c([]);async function l(o=5,I=!1){ie.start(),se.value=await Re(),ue.value=se.value,w.value=Y(o),M.value=w.value,i.value=Y(o,{parentList:w.value,onlySingle:I}),console.log("🚀 ~ file: menuHook.ts:46 ~ initMenu ~ menuLevel2List.value:",i.value);const P=Y(o,{parentList:i.value,onlySingle:I});_.value=P.map(G=>(G.children=je(ue.value,o),G)),ie.done(),console.log("🚀 ~ file: menuHook.ts:51 ~ initMenu ~ menuLevel3List.value:",_.value)}const s=x(()=>v.value?`flex-row ${C.value?"justify-center ":"justify-start"}`:`flex-col ${C.value?"items-center  pl-36":"items-start"}`),f=new Date,b=o=>{console.log("一级菜单点击"),r.value&&(a.value=!1),m.value=!0,p.value=!1,S.value=i.value.filter(I=>I.parentId===o.menuId)},V=o=>{r.value&&(a.value=!1,m.value=!1),p.value=!0,t.value=_.value.filter(I=>I.parentId===o.menuId),console.log("🚀 ~ file: menuHook.ts:90 ~ secondMenuClick ~ menuLevel3.value:",t.value)},k=o=>{console.log("选中:",o);const P=(new Date().getTime()-f.getTime())/1e3;Ve.alert(`用时: ${P}秒`,"提示",{confirmButtonText:"确定",callback:()=>{d()}})},d=()=>{a.value=!0,m.value=!1,p.value=!1};return{isHide:r,isGlobalColumn:C,isThirdColumn:v,isShowFirstMenu:a,isShowSecondMenu:m,isShowThirdMenu:p,thirdCenter:s,firstMenuClick:b,secondMenuClick:V,selectClick:k,refreshStatus:d,initMenu:l,menuLevel1:M,menuLevel2:S,menuLevel3:t}}const qe={class:"flex !absolute right-0 top-0"},We=K({__name:"OperateBars",props:{isGlobalColumn:{type:Boolean,default:!1},isThirdColumn:{type:Boolean,default:!1},isHide:{type:Boolean,default:!1}},emits:["update:isGlobalColumn","update:isThirdColumn","update:isHide"],setup(r,{emit:C}){const v=C,a=r,m=c(!1),p=c(a.isGlobalColumn),w=c(!1);c(!0),c(!1),c(!1);function i(){v("update:isGlobalColumn",p.value)}function _(){v("update:isThirdColumn",w.value)}const M=()=>{v("update:isHide",m.value)};return(S,t)=>{const l=ze;return u(),h("div",qe,[E(l,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=s=>m.value=s),onChange:M,"inline-prompt":"","active-text":"隐藏","inactive-text":"展示"},null,8,["modelValue"]),E(l,{modelValue:w.value,"onUpdate:modelValue":t[1]||(t[1]=s=>w.value=s),onChange:_,"inline-prompt":"","active-text":"三级横向","inactive-text":"三级竖向"},null,8,["modelValue"]),E(l,{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=s=>p.value=s),onChange:i,"inline-prompt":"","active-text":"横向","inactive-text":"竖向"},null,8,["modelValue"])])}}}),Qe=["onClick"],Xe=["onClick"],Ye={class:"font-bold w-32 rounded-sm py-1 px-2"},Ze=["onClick"],en=K({__name:"menu",setup(r){const{isHide:C,isGlobalColumn:v,isThirdColumn:a,isShowFirstMenu:m,isShowSecondMenu:p,isShowThirdMenu:w,thirdCenter:i,firstMenuClick:_,secondMenuClick:M,selectClick:S,refreshStatus:t,initMenu:l,menuLevel1:s,menuLevel2:f,menuLevel3:b}=Je();return re(()=>{l(5,!0)}),(V,k)=>(u(),h($,null,[E(We,{isGlobalColumn:n(v),"onUpdate:isGlobalColumn":k[0]||(k[0]=d=>J(v)?v.value=d:null),isThirdColumn:n(a),"onUpdate:isThirdColumn":k[1]||(k[1]=d=>J(a)?a.value=d:null),isHide:n(C),"onUpdate:isHide":k[2]||(k[2]=d=>J(C)?C.value=d:null)},null,8,["isGlobalColumn","isThirdColumn","isHide"]),L("div",{class:y(["flex h-full w-full",n(v)?"flex-col":"flex-row"])},[E(q,{name:"fade"},{default:N(()=>[W(L("div",{class:y(["bg-[#324868] flex gap-4 p-4 text-white",n(v)?"flex-row justify-center":"flex-col"])},[(u(!0),h($,null,F(n(s),d=>(u(),h("div",{key:d.menuId,onClick:o=>n(_)(d),class:"w-32 font-bold min-w-max rounded-sm py-1 px-2"},D(d.menuName),9,Qe))),128))],2),[[Q,n(m)]])]),_:1}),E(q,{name:"fade"},{default:N(()=>[W(L("div",{class:y(["bg-[#e2e0df] flex gap-4 p-4 text-black",n(v)?"flex-row justify-center":"flex-col"])},[(u(!0),h($,null,F(n(f),d=>(u(),h("div",{key:d.menuId,onClick:o=>n(M)(d),class:"w-32 font-bold min-w-max rounded-sm py-1 px-2"},D(d.menuName),9,Xe))),128))],2),[[Q,n(p)]])]),_:1}),E(q,{name:"fade"},{default:N(()=>[W(L("div",{class:y(["flex-1 bg-[#ffffff] flex gap-4 p-4 text-black",n(i)])},[(u(!0),h($,null,F(n(b),d=>(u(),h("div",{key:d.menuId,class:y(["flex items-center gap-4",n(a)?"flex-col":"flex-row"])},[L("span",Ye,D(d.menuName),1),L("div",{class:y(["flex gap-4",n(a)?"flex-col":"flex-row"])},[(u(!0),h($,null,F(d.children,o=>(u(),h("div",{key:o.menuId,onClick:I=>n(S)(o),class:"w-32 min-w-max rounded-sm py-1 px-2"},D(o.menuName),9,Ze))),128))],2)],2))),128))],2),[[Q,n(w)]])]),_:1})],2)],64))}});const vn=Ne(en,[["__scopeId","data-v-69a4022e"]]);export{vn as default};
